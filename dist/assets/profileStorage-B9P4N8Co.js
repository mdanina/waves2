import{p as c,w as M}from"./index-Bu4m9iDU.js";import{c as F}from"./vendor-radix-htwXsPHy.js";import"./vendor-charts-DjioKZbK.js";import"./vendor-query-BNGVDYIL.js";import"./vendor-react-CI8wve7f.js";var Q={},h={},P={},O={};Object.defineProperty(O,"__esModule",{value:!0});O.startsWith=O.endsWith=void 0;function ie(e,n){const t=e.length;return e.substring(t-n.length,t)===n}O.endsWith=ie;function se(e,n,t){return e.substr(!t||t<0?0:+t,n.length)===n}O.startsWith=se;var U={};Object.defineProperty(U,"__esModule",{value:!0});const oe={suffixes:{female:["на","кызы","кизи","гызы"],male:["ич","оглы","угли","улы","уулу"]}},ae={exceptions:{androgynous:["бова","регин","дарвин","пэйлин","грин","цин","шенгелая"]},suffixes:{androgynous:["ан","ко","дзе","швили","ян","к","ер","ц","г","йн","дт","ен","ич","о","ун"],female:["ова","ая","ына","ина","ева","ска","ёва"],male:["кий","ов","ын","ев","ин","ёв","хий","ний","ый","ой"]}},le={exceptions:{androgynous:["анри","алвард","валери","женя","закия","захария","иона","кири","ким","муса","райхон","саша","сева","ардак","арман","асыл","баглан","бакыт","бахыт","еркежан","жанат","жаркын","куаныш","манат","мереке","рауан","сымбат","тлеухан","умит","улжалгас","ырыс","айбала","акбала","ирза","арши","амиль"],male:["аба","абиба","савва","лёва","вова","-ага","агга","серега","алиада","муктада","абида","алда","маджуда","нурлыхуда","гиа","элиа","гарсиа","вавила","гавриила","генка","лука","дима","зосима","тима","фима","фома","кузьма","жора","миша","ермила","данила","гаврила","абдалла","аталла","абдилла","атилла","кайролла","абула","свитлана","бена","гена","агелина","джанна","кришна","степа","дра","назера","валера","эстера","двойра","калистра","заратустра","юра","иса","аиса","халиса","холиса","валенса","мусса","ата","паата","алета","никита","мота","шота","фаста","коста","маритта","малюта","васюта","вафа","мустафа","ганифа","лев","яков","константин","марсель","рамиль","эмиль","бактыгуль","даниэль","игорь","арминэ","изя","кузя","гия","мазия","кирикия","ркия","еркия","эркия","гулия","аксания","закария","зекерия","гарсия","шендля","филя","вилля","толя","коля","ваня","саня","загиря","боря","цайся","вася","ося","петя","витя","митя","костя","илья","абдала","абдель","фидель","фридель","абдилла","аталла","абла","лазарь","ава","вовка","семён"],female:["судаба","сураба","любава","джанлука","варвара","наташа","зайнаб","любов","сольвейг","шакед","аннаид","ингрид","синди","аллаберди","лали","натали","лили","нелли","элли","эмили","амили","адели","гулькай","алтынай","гюнай","гюльчитай","нурангиз","лиз","элиз","ботагоз","юлдуз","диляфруз","габи","сажи","фанни","мери","элдари","эльдари","хилари","хиллари","аннемари","розмари","товсари","ансари","одри","тери","ири","катя","катри","мэри","сатаней","ефтений","верунчик","гюзел","этел","рэйчел","джил","мерил","нинелл","бурул","ахлам","майрам","махаррам","мириам","дилярам","асем","мерьем","мирьем","эркаим","гулаим","айгерим","марьям","мирьям","эван","гульжиган","айдан","айжан","вивиан","гульжиан","лилиан","мариан","саиман","джоан","чулпан","лоран","моран","гульшан","аделин","жаклин","карин","каролин","каталин","катрин","керстин","кэтрин","мэрилин","рузалин","хелин","цеткин","ширин","элисон","дурсун","кристин","гульжиян","марьян","ренато","зейнеп","санабар","дильбар","гулизар","гульзар","пилар","дагмар","элинар","нилуфар","анхар","гаухар","естер","эстер","дженнифер","линор","элинор","элеонор","айнур","гульнур","шамсинур","элнур","ильсияр","нигяр","сигитас","агнес","анес","долорес","инес","анаис","таис","эллис","элис","кларис","амнерис","айрис","дорис","беатрис","грейс","грэйс","ботагос","маргос","джулианс","арус","диляфрус","саодат","зулхижат","хамат","патимат","хатимат","альжанат","маймунат","гульшат","рут","иргаш","айнаш","агнеш","зауреш","тэрбиш","ануш","азгануш","гаруш","николь","адась","адула","ахмадула","гейбадула","лив","ираги","пегги","абдурефи","адерми","лакшми","мими","наоми","изабель","абигейль","зебо","аширбу","судаба","айсулу","айши","жанет","гузаль","сапият","зауре","кармен","мадлен","алсу","айсу","амели","-бану","ассоль","николь"]},suffixes:{androgynous:["щи","ки"],male:["аба","б","ав","ев","ов","во","г","д","ж","з","би","ди","жи","ли","гани","ит","до","айт","юм","дула","ив","ги","улла","улль","фи","аль","ми","бель","була","йль","яй","бо","бу","кр","ыль","ыт","вва","вель","вни","аба","бала","улу","рза","ши","паша","го","но","ет","ят","ре","ри","ай","ей","ий","ой","ый","к","л","ам","ем","им","ом","ум","ым","ям","ан","бен","вен","ген","ден","ин","сейн","он","ун","ян","ио","ло","ро","то","шо","п","ар","др","ер","ир","ор","тр","ур","ыр","яр","ас","ес","ис","йс","кс","мс","ос","нс","рс","ус","юс","яс","ат","кт","нт","рт","ст","ут","ф","х","ш","ы","сь","тау","ен","коль","рау","обе","убе","иль","ево","ово","шу","ду","пуль","нко","су","вль","оль","ёв","ём","ец","сс","льс","хт","рн","дт"],female:["иба","люба","лава","ева","га","да","еа","иза","иа","ика","нка","ска","ела","ила","илла","эла","има","на","ра","са","та","фа","еса","сса","гуль","куль","нуэль","гюль","нэ","ая","ея","ия","йя","ля","мя","оя","ря","ся","вья","лья","мья","нья","рья","сья","тья","фья","зя","нша","ха","тка","нь","чь","мь","ерь","овка","евка","мба","зь","лка","сала","бла","арь","ума","пи","дель","не","жка","си","ибе","абе","елла","ие","фе","фя"]}};U.default={lastname:ae,firstname:le,middlename:oe};(function(e){var n=F&&F.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.convertGenderStr=e.getGenderConst=e.getGenderByRule=e.getGenderByRuleSet=e.getGender=e._getGender=e.mergeGenders=e.getMiddlenameGender=e.getLastnameGender=e.getFirstnameGender=e.getMG=e.getLG=e.getFG=e.ANDROGYNOUS=e.FEMALE=e.MALE=void 0;const t=O,r=n(U);e.MALE=1,e.FEMALE=2,e.ANDROGYNOUS=4;function o(i){return l(i,r.default.firstname)}e.getFG=o;function E(i){return l(i,r.default.lastname)}e.getLG=E;function m(i){return l(i,r.default.middlename)}e.getMG=m;function R(i){return G(o(i))}e.getFirstnameGender=R;function b(i){return G(E(i))}e.getLastnameGender=b;function v(i){return G(m(i))}e.getMiddlenameGender=v;function N(i,s){return i===e.ANDROGYNOUS?s:s===e.ANDROGYNOUS||i===s?i:null}e.mergeGenders=N;function L(i){let s=e.ANDROGYNOUS;const{middle:y,first:f,last:g}=i;if(y&&(s=N(s,m(y.trim()))),f&&(s=N(s,o(f.trim()))),g){const D=E(g.trim());D!==null&&(s=N(s,D))}return s}e._getGender=L;function a(i){return G(L(i))}e.getGender=a;function l(i,s){if(!i||!s)return null;const y=i.toLowerCase();if(s.exceptions){const f=u(s.exceptions,g=>(0,t.startsWith)(g,"-")?(0,t.endsWith)(y,g.substr(1)):g===y);if(f)return f}return s.suffixes?u(s.suffixes,f=>(0,t.endsWith)(y,f)):null}e.getGenderByRuleSet=l;function u(i,s){const y=Object.keys(i).filter(f=>{const g=i[f];return Array.isArray(g)&&g.some(s)});return y.length!==1?(Object.keys(i).forEach(f=>{const g=i[f];Array.isArray(g)&&g.some(s)}),null):d(y[0])}e.getGenderByRule=u;function d(i){switch(i){case"male":case e.MALE:return e.MALE;case"female":case e.FEMALE:return e.FEMALE;case"androgynous":case e.ANDROGYNOUS:return e.ANDROGYNOUS;default:return null}}e.getGenderConst=d;function G(i){switch(i){case"male":case e.MALE:return"male";case"female":case e.FEMALE:return"female";case"androgynous":case e.ANDROGYNOUS:return"androgynous";default:return null}}e.convertGenderStr=G})(P);var V={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeclensionStr=e.getDeclensionConst=e.applyMod=e.applyRule=e.findExactRule=e.findRule=e.inclineByRules=e.constantizeGenderInRules=e.PREPOSITIONAL=e.INSTRUMENTAL=e.ACCUSATIVE=e.DATIVE=e.GENITIVE=e.NOMINATIVE=void 0;const n=O,t=P;e.NOMINATIVE=1,e.GENITIVE=2,e.DATIVE=3,e.ACCUSATIVE=4,e.INSTRUMENTAL=5,e.PREPOSITIONAL=6;function r(a){Array.isArray(a.exceptions)&&a.exceptions.forEach(l=>{l.gender=(0,t.getGenderConst)(l.gender)}),Array.isArray(a.suffixes)&&a.suffixes.forEach(l=>{l.gender=(0,t.getGenderConst)(l.gender)})}e.constantizeGenderInRules=r;function o(a,l,u,d){const G=N(l),i=(0,t.getGenderConst)(u),s=a.split("-"),y=[];for(let f=0;f<s.length;f++){const g=s[f],D=f===0&&s.length>1,Y=E(g,i,d,{firstWord:D});Y?y.push(b(Y,g,G)):y.push(g)}return y.join("-")}e.inclineByRules=o;function E(a,l,u,d={}){if(!a)return null;const G=a.toLowerCase(),i=[];if(Object.keys(d).forEach(s=>{d[s]&&i.push(s)}),u.exceptions){const s=m(u.exceptions,l,y=>y===G,i);if(s)return s}return u.suffixes?m(u.suffixes,l,s=>(0,n.endsWith)(G,s),i):null}e.findRule=E;function m(a,l,u,d=[]){for(let G=0;G<a.length;G++){const i=a[G];if(!(i.tags&&!i.tags.find(s=>d.indexOf(s)!==-1))&&!(i.gender!==t.ANDROGYNOUS&&l!==i.gender)&&i.test){for(let s=0;s<i.test.length;s++)if(u(i.test[s]))return i}}return null}e.findExactRule=m;function R(a,l){return a&&a.length>=l?a[l]:"."}function b(a,l,u){let d;switch(u){case e.NOMINATIVE:d=".";break;case e.GENITIVE:d=R(a.mods,0);break;case e.DATIVE:d=R(a.mods,1);break;case e.ACCUSATIVE:d=R(a.mods,2);break;case e.INSTRUMENTAL:d=R(a.mods,3);break;case e.PREPOSITIONAL:d=R(a.mods,4);break;default:d="."}return v(l,d)}e.applyRule=b;function v(a,l){for(let u=0;u<l.length;u++){const d=l[u];switch(d){case".":break;case"-":a=a.substr(0,a.length-1);break;default:a+=d}}return a}e.applyMod=v;function N(a){switch(a){case"nominative":case e.NOMINATIVE:return e.NOMINATIVE;case"genitive":case e.GENITIVE:return e.GENITIVE;case"dative":case e.DATIVE:return e.DATIVE;case"accusative":case e.ACCUSATIVE:return e.ACCUSATIVE;case"instrumental":case e.INSTRUMENTAL:return e.INSTRUMENTAL;case"prepositional":case e.PREPOSITIONAL:return e.PREPOSITIONAL;default:return null}}e.getDeclensionConst=N;function L(a){switch(a){case"nominative":case e.NOMINATIVE:return"nominative";case"genitive":case e.GENITIVE:return"genitive";case"dative":case e.DATIVE:return"dative";case"accusative":case e.ACCUSATIVE:return"accusative";case"instrumental":case e.INSTRUMENTAL:return"instrumental";case"prepositional":case e.PREPOSITIONAL:return"prepositional";default:return null}}e.getDeclensionStr=L})(V);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.default={exceptions:[{gender:"androgynous",test:["бонч","абдул","белиц","гасан","дюссар","дюмон","книппер","корвин","ван","шолом","тер","призван","мелик","вар","фон"],mods:[".",".",".",".","."],tags:["first_word"]},{gender:"androgynous",test:["дюма","тома","дега","люка","ферма","гамарра","петипа","шандра","скаля","каруана"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["гусь","ремень","камень","онук","богода","нечипас","долгопалец","маненок","рева","кива"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["вий","сой","цой","хой"],mods:["-я","-ю","-я","-ем","-е"]}],suffixes:[{gender:"female",test:["б","в","г","д","ж","з","й","к","л","м","н","п","р","с","т","ф","х","ц","ч","ш","щ","ъ","ь"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["орота"],mods:[".",".",".",".","."]},{gender:"female",test:["ска","цка"],mods:["-ой","-ой","-ую","-ой","-ой"]},{gender:"female",test:["цкая","ская","ная","ая"],mods:["--ой","--ой","--ую","--ой","--ой"]},{gender:"female",test:["яя"],mods:["--ей","--ей","--юю","--ей","--ей"]},{gender:"male",test:["иной","уй"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["ца"],mods:["-ы","-е","-у","-ей","-е"]},{gender:"male",test:["рих"],mods:["а","у","а","ом","е"]},{gender:"androgynous",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"androgynous",test:["иа","аа","оа","уа","ыа","еа","юа","эа"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["о","е","э","и","ы","у","ю"],mods:[".",".",".",".","."]},{gender:"male",test:["их","ых"],mods:[".",".",".",".","."]},{gender:"female",test:["ова","ева","на","ёва"],mods:["-ой","-ой","-у","-ой","-ой"]},{gender:"androgynous",test:["га","ка","ха","ча","ща","жа","ша"],mods:["-и","-е","-у","-ой","-е"]},{gender:"androgynous",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"male",test:["ь"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["обей"],mods:["--ья","--ью","--ья","--ьем","--ье"]},{gender:"male",test:["ей"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["ян","ан","йн"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ынец","овец"],mods:["--ца","--цу","--ца","--цом","--це"]},{gender:"male",test:["нец","обец"],mods:["--ца","--цу","--ца","--цем","--це"]},{gender:"male",test:["ай"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["гой","кой"],mods:["-го","-му","-го","--им","-м"]},{gender:"male",test:["ой"],mods:["-го","-му","-го","--ым","-м"]},{gender:"male",test:["ах","ив","шток"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ший","щий","жий","ний"],mods:["--его","--ему","--его","-м","--ем"]},{gender:"male",test:["ый","кий","хий"],mods:["--ого","--ому","--ого","-м","--ом"]},{gender:"male",test:["ий"],mods:["-я","-ю","-я","-ем","-и"]},{gender:"male",test:["ок"],mods:["--ка","--ку","--ка","--ком","--ке"]},{gender:"male",test:["иец","еец"],mods:["--йца","--йцу","--йца","--йцом","--йце"]},{gender:"male",test:["ец"],mods:["--ца","--цу","--ца","--цом","--це"]},{gender:"male",test:["ц","ч","ш","щ"],mods:["а","у","а","ем","е"]},{gender:"male",test:["ен","нн","он","ун","б","г","д","ж","з","к","л","м","п","р","с","т","ф","х"],mods:["а","у","а","ом","е"]},{gender:"male",test:["в","н"],mods:["а","у","а","ым","е"]}]};var W={};Object.defineProperty(W,"__esModule",{value:!0});W.default={exceptions:[{gender:"androgynous",test:["борух"],mods:[".",".",".",".","."],tags:["first_word"]}],suffixes:[{gender:"male",test:["мич","ьич","кич"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ич"],mods:["а","у","а","ем","е"]},{gender:"female",test:["на"],mods:["-ы","-е","-у","-ой","-е"]}]};var k={};Object.defineProperty(k,"__esModule",{value:!0});k.default={exceptions:[{gender:"male",test:["лев"],mods:["--ьва","--ьву","--ьва","--ьвом","--ьве"]},{gender:"male",test:["пётр"],mods:["---етра","---етру","---етра","---етром","---етре"]},{gender:"male",test:["павел"],mods:["--ла","--лу","--ла","--лом","--ле"]},{gender:"male",test:["яша"],mods:["-и","-е","-у","-ей","-е"]},{gender:"male",test:["шота"],mods:[".",".",".",".","."]},{gender:"female",test:["агидель","жизель","нинель","рашель","рахиль"],mods:["-и","-и",".","ю","-и"]}],suffixes:[{gender:"androgynous",test:["лок"],mods:["--ка","--ку",".","--кос","--ке"]},{gender:"androgynous",test:["ки"],mods:["-ов","-ам",".","-ами","-ах"]},{gender:"androgynous",test:["щи"],mods:["-ев","-ам",".","-ами","-ах"]},{gender:"androgynous",test:["е","ё","и","о","у","ы","э","ю"],mods:[".",".",".",".","."]},{gender:"male",test:["уа","иа"],mods:[".",".",".",".","."]},{gender:"female",test:["б","в","г","д","ж","з","й","к","л","м","н","п","р","с","т","ф","х","ц","ч","ш","щ","ъ","иа","ль"],mods:[".",".",".",".","."]},{gender:"female",test:["ь"],mods:["-и","-и",".","ю","-и"]},{gender:"male",test:["ь"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["га","ка","ха","ча","ща","жа"],mods:["-и","-е","-у","-ой","-е"]},{gender:"female",test:["ша"],mods:["-и","-е","-у","-ей","-е"]},{gender:"male",test:["ша","ча","жа"],mods:["-и","-е","-у","-ей","-е"]},{gender:"androgynous",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"female",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"female",test:["ка","га","ха"],mods:["-и","-е","-у","-ой","-е"]},{gender:"female",test:["ца"],mods:["-ы","-е","-у","-ей","-е"]},{gender:"female",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"female",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"male",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["ий"],mods:["-я","-ю","-я","-ем","-и"]},{gender:"male",test:["ый","кий","хий"],mods:["--ого","--ому","--ого","-м","--ом"]},{gender:"male",test:["ей","й"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["ш","ж"],mods:["а","у","а","ем","е"]},{gender:"male",test:["ёл"],mods:["--ла","--лу","--ла","--лом","--ле"]},{gender:"male",test:["ёк"],mods:["--ька","--ьку","--ька","--ьком","--ьке"]},{gender:"male",test:["б","в","г","д","ж","з","к","л","м","н","п","р","с","т","ф","х","ц","ч"],mods:["а","у","а","ом","е"]},{gender:"androgynous",test:["ния","рия","вия"],mods:["-и","-и","-ю","-ем","-ем"]}]};var B=F&&F.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});h.incline=h.inclineMiddlename=h.inclineLastname=h.inclineFirstname=void 0;const C=P,T=V,X=B(z),J=B(W),Z=B(k);(0,T.constantizeGenderInRules)(X.default);(0,T.constantizeGenderInRules)(J.default);(0,T.constantizeGenderInRules)(Z.default);function p(e,n="accusative",t){return(0,T.inclineByRules)(e,n,t||(0,C.getFG)(e),Z.default)}h.inclineFirstname=p;function x(e,n="accusative",t){return(0,T.inclineByRules)(e,n,t||(0,C.getLG)(e),X.default)}h.inclineLastname=x;function $(e,n="accusative",t){return(0,T.inclineByRules)(e,n,t||(0,C.getMG)(e),J.default)}h.inclineMiddlename=$;function de(e,n){const t={},r=(0,C.getGender)(e);t.gender=r;const{first:o,last:E,middle:m}=e;return o&&(t.first=p(o.trim(),n,r)),E&&(t.last=x(E.trim(),n,r)),m&&(t.middle=$(m.trim(),n,r)),t}h.incline=de;var I={},_={};Object.defineProperty(_,"__esModule",{value:!0});_.cityRules=_.frozenPartsAfter=_.frozenParts=_.frozenWords=void 0;const q=P;_.frozenWords=["форт-шевченко"];_.frozenParts=["-"," ","в","на","баден","бледно","буэнос","вице","гаврилов","йошкар","коста","лос","норд","нью","орехово","принс","сан","санкт","санта","северо","ситтард","темно","улан","усолье","усть","форт","царь","экс","юго","юрьев","нур","соль"];_.frozenPartsAfter=["село","поселок","аул","город","деревня","урочище"];const H={exceptions:[{test:["сочи","тбилиси","хельсинки"],mods:["","","","",""]},{test:["село","озеро","место"],mods:["-а","-у","","м","-е"]},{test:["область"],mods:["-и","-и","","ю","-и"]},{test:["деревня"],mods:["-и","-е","-ю","-ей","-е"]},{test:["море"],mods:["-я","-ю","","м",""]},{test:["холм"],mods:["а","у","","ом","е"]},{test:["орел","орёл"],mods:["--ла","--лу","--ла","--лом","--ле"]},{test:["крым"],mods:["-ма","-му","-ма","-ом","-му"]},{test:["бор"],mods:["а","у","","ом","у"]}],suffixes:[{test:["чёк","чек"],mods:["--ка","--ку","","--ком","--ке"]},{test:["чик","ич"],mods:["а","у","","ом","е"]},{test:["жний","хний","шний","щий"],mods:["--его","--ему","","-м","--ем"]},{test:["ще"],mods:["-а","-у","","м",""]},{test:["щи"],mods:["-","-ам","","-ами","-ах"]},{test:["чье"],mods:["-я","-ю","","м",""]},{test:["ель","пль"],mods:["-я","-ю","","-ем","-е"]},{test:["чь"],mods:["-и","-и","","ю","-и"]},{test:["чи"],mods:["-ей","-ам","","-ами","-ах"]},{test:["ые","ие"],mods:["-х","-м","","-ми","-х"]},{test:["ый","ий","ое"],mods:["--ого","--ому","","-м","--ом"]},{test:["ая"],mods:["--ой","--ой","--ую","--ой","--ой"]},{test:["гиев"],mods:["а","у","","ым","ом"]},{test:["ны","вцы"],mods:["-ов","-ам","","-ами","-ах"]},{test:["ша"],mods:["-и","-е","-у","-ей","-е"]},{test:["ры","цы","ды","ги"],mods:["-","-ам","","-ами","-ах"]},{test:["амень"],mods:["---ня","---ню","","---нем","---не"]},{test:["ьн","нц","мм"],mods:["а","у","","ом","е"]}]};_.cityRules={exceptions:H.exceptions.map(e=>Object.assign({gender:q.ANDROGYNOUS},e)),suffixes:H.suffixes.map(e=>Object.assign({gender:q.ANDROGYNOUS},e))};Object.defineProperty(I,"__esModule",{value:!0});I.cityTo=I.cityFrom=I.cityIn=void 0;const S=O,ue=P,A=V,ce=h,w=_;(0,A.constantizeGenderInRules)(w.cityRules);function ee(e,n,t){return j(e,w.frozenWords)?e:e.split(/(\s|-)/g).map((r,o,E)=>{if(ne(r,o,E))return r;const m=(0,A.findRule)(r,ue.ANDROGYNOUS,w.cityRules);return m?(0,A.applyRule)(m,r,n):(0,ce.inclineFirstname)(r,n,t)||r}).join("")}function fe(e,n){return ee(e,A.PREPOSITIONAL,n)}I.cityIn=fe;function ge(e,n){return ee(e,A.GENITIVE,n)}I.cityFrom=ge;function me(e){return e&&e.split(/(\s|-)/g).map((n,t,r)=>{if(ne(n,t,r))return n;const o=n.toLowerCase();return(0,S.endsWith)(o,"а")?(0,A.applyMod)(n,"-у"):(0,S.endsWith)(o,"ая")?(0,A.applyMod)(n,"--ую"):(0,S.endsWith)(o,"ия")?(0,A.applyMod)(n,"--ию"):(0,S.endsWith)(o,"я")?(0,A.applyMod)(n,"-ю"):n}).join("")}I.cityTo=me;function j(e,n){const t=e.toLowerCase();for(let r=0;r<n.length;r++)if(n[r]===t)return!0;return!1}function ne(e,n,t){if(t.length>1){if(j(e,w.frozenParts))return!0;for(let r=0;r<n;r++)if(j(t[r],w.frozenPartsAfter))return!0}return!1}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cityTo=e.cityFrom=e.cityIn=e.getMiddlenameGender=e.getLastnameGender=e.getFirstnameGender=e.getGender=e.inclineMiddlename=e.inclineLastname=e.inclineFirstname=e.incline=void 0;const n=h;Object.defineProperty(e,"incline",{enumerable:!0,get:function(){return n.incline}}),Object.defineProperty(e,"inclineFirstname",{enumerable:!0,get:function(){return n.inclineFirstname}}),Object.defineProperty(e,"inclineLastname",{enumerable:!0,get:function(){return n.inclineLastname}}),Object.defineProperty(e,"inclineMiddlename",{enumerable:!0,get:function(){return n.inclineMiddlename}});const t=P;Object.defineProperty(e,"getFirstnameGender",{enumerable:!0,get:function(){return t.getFirstnameGender}}),Object.defineProperty(e,"getLastnameGender",{enumerable:!0,get:function(){return t.getLastnameGender}}),Object.defineProperty(e,"getMiddlenameGender",{enumerable:!0,get:function(){return t.getMiddlenameGender}}),Object.defineProperty(e,"getGender",{enumerable:!0,get:function(){return t.getGender}});const r=I;Object.defineProperty(e,"cityIn",{enumerable:!0,get:function(){return r.cityIn}}),Object.defineProperty(e,"cityFrom",{enumerable:!0,get:function(){return r.cityFrom}}),Object.defineProperty(e,"cityTo",{enumerable:!0,get:function(){return r.cityTo}})})(Q);async function te(){const{data:{session:e}}=await M.auth.getSession();return(e==null?void 0:e.user)??null}async function Oe(e){try{let n;if(e?n={id:e}:n=await te(),!n)throw c.warn("getProfiles: User not authenticated"),new Error("User not authenticated");c.log("getProfiles: Fetching profiles for user:",n.id),c.log("getProfiles: Supabase client initialized:",!!M);const t=Date.now(),{data:r,error:o}=await M.from("profiles").select("*").eq("user_id",n.id).order("created_at",{ascending:!0}),E=Date.now()-t;if(c.log(`getProfiles: Query completed in ${E}ms`),o)throw c.error("getProfiles: Supabase error:",o),c.error("getProfiles: Error details:",{message:o.message,code:o.code,details:o.details,hint:o.hint}),o;return c.log("getProfiles: Query completed. Data:",r),c.log("getProfiles: Successfully loaded",(r==null?void 0:r.length)||0,"profiles"),r&&r.length>0?c.log("getProfiles: Profile IDs:",r.map(m=>m.id)):c.warn("getProfiles: No profiles found for user:",n.id),r||[]}catch(n){throw c.error("Error getting profiles:",n),n}}async function Re(e){try{const{data:n,error:t}=await M.from("profiles").select("*").eq("id",e).single();if(t){if(t.code==="PGRST116")return null;throw t}return n}catch(n){return console.error("Error getting profile:",n),null}}async function Ne(e){try{const n=await te();if(!n)throw new Error("User not authenticated");const t={user_id:n.id,type:e.relationship,first_name:e.firstName,last_name:e.lastName||null,dob:e.dateOfBirth||null,gender:e.sex||null,pronouns:e.pronouns||null,referral:e.referral||null,seeking_care:e.seekingCare||null,worry_tags:e.worryTags||null},{data:r,error:o}=await M.from("profiles").insert(t).select().single();if(o)throw o;return r}catch(n){throw c.error("Error creating profile:",n),n}}async function Me(e,n){try{const t={};n.firstName&&(t.first_name=n.firstName),n.lastName!==void 0&&(t.last_name=n.lastName||null),n.dateOfBirth&&(t.dob=n.dateOfBirth),n.relationship&&(t.type=n.relationship),n.sex&&(t.gender=n.sex),n.pronouns!==void 0&&(t.pronouns=n.pronouns||null),n.referral!==void 0&&(t.referral=n.referral||null),n.seekingCare&&(t.seeking_care=n.seekingCare),n.worryTags!==void 0&&(t.worry_tags=n.worryTags.length>0?n.worryTags:null,c.log("Updating worry_tags:",{profileId:e,worryTags:n.worryTags,updateData:t.worry_tags}));const{data:r,error:o}=await M.from("profiles").update(t).eq("id",e).select().single();if(o)throw c.error("Supabase update error:",o),o;return c.log("Profile update result:",{profileId:r.id,worry_tags:r.worry_tags}),r}catch(t){throw c.error("Error updating profile:",t),t}}async function Pe(e){try{const{error:n}=await M.from("profiles").delete().eq("id",e);if(n)throw n}catch(n){throw console.error("Error deleting profile:",n),n}}function re(e){const n=new Date(e),t=new Date;let r=t.getFullYear()-n.getFullYear();const o=t.getMonth()-n.getMonth();return(o<0||o===0&&t.getDate()<n.getDate())&&r--,r}const ye=3,Ge=18;function Te(e){if(!e)return{eligible:!1,reason:"no_dob"};const n=re(e);return n<ye?{eligible:!1,reason:"too_young",age:n}:n>Ge?{eligible:!1,reason:"too_old",age:n}:{eligible:!0,age:n}}function we(e){if(!e)return"elementary";const n=re(e);return n>=3&&n<=6?"preschool":n>=7&&n<=11?"elementary":"teenager"}function be(e,n){if(!e)return"вашем ребенке";try{const t=n==="male"?"male":n==="female"?"female":void 0,r=Q.inclineFirstname(e,"prepositional",t);return r&&r!==e?r:K(e,n)}catch(t){return c.warn("Failed to decline name to prepositional:",e,t),K(e,n)}}function K(e,n){if(!e)return"вашем ребенке";const t=e.trim(),r=t.slice(-1).toLowerCase(),o=t.slice(-2).toLowerCase();return o==="ия"||o==="ий"?t.slice(0,-2)+"ии":r==="а"||r==="я"||r==="й"||r==="ь"?t.slice(0,-1)+"е":n==="male"||!n&&/[бвгджзклмнпрстфхцчшщ]$/i.test(t)?t+"е":t}export{Ge as CHECKUP_MAX_AGE,ye as CHECKUP_MIN_AGE,re as calculateAge,Ne as createProfile,Pe as deleteProfile,we as getAgeGroup,te as getCurrentUser,be as getPrepositionalName,Re as getProfile,Oe as getProfiles,Te as isEligibleForCheckup,Me as updateProfile};
