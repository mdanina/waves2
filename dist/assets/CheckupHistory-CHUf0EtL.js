import{j as e,r as m}from"./vendor-radix-CDHcN1cP.js";import{j as Y,U as te,C as _,S as b,W as E,a as z,b as W,c as B,d as $,e as I,x as ae,X as le}from"./index-Dt6uKTGi.js";import{R as ne,A as ie,X as re,Y as me,a as de}from"./vendor-charts-DMFz3Lzq.js";import{D as ce,a as oe,b as xe}from"./dialog-Bj2cYqgx.js";import{T as pe,a as he,b as q,c as U}from"./tabs-DSf7QTkF.js";import"./vendor-query-DyYoeD25.js";import"./vendor-react-D0zZO7ze.js";const je={coral:"bg-gradient-to-br from-[#ffd4c4] via-[#ffb299] to-[#ff8a65]",blue:"bg-gradient-to-br from-[#E8F5FE] via-[#D4EDFC] to-[#C0E5FA]",pink:"bg-gradient-to-br from-[#FFE8F0] via-[#FFD6E8] to-[#FFC4E0]",lavender:"bg-[#F0E8F8]"};function c({children:p,className:h,gradient:r,hover:R=!1,...o}){return e.jsx("div",{...o,className:Y("rounded-[20px] p-6 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",r?je[r]:"bg-white",R&&"transition-all duration-300 hover:shadow-[0_6px_30px_rgba(0,0,0,0.1)] hover:scale-[1.02]",h),children:p})}function fe({data:p,className:h,color:r="#b8a0d6"}){return e.jsx("div",{className:Y("w-full h-[200px]",h),children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsxs(ie,{data:p,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"moodGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:r,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:r,stopOpacity:0})]})}),e.jsx(re,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),e.jsx(me,{hide:!0,domain:[0,10]}),e.jsx(de,{type:"monotone",dataKey:"mood",stroke:r,strokeWidth:3,fill:"url(#moodGradient)",dot:{fill:r,r:4,strokeWidth:0},activeDot:{r:6,strokeWidth:0}})]})})})}function Ie(){const[p,h]=m.useState("history"),[r,R]=m.useState("all"),[o,P]=m.useState("all"),[j,Q]=m.useState(""),[a,M]=m.useState(null),{data:C}=te(),x=[{id:"1",profileId:"1",profileName:"–ú–∞—Ä–∏—è –î–∞–Ω–∏–Ω–∞",date:"05.01.2026",dateISO:"2026-01-05",type:"–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è",duration:16,timeElapsed:960,timeInZone:68,endReason:"completed",points:850,rating:5,mood:"better",concentration:5,avgHeartRate:72,maxHeartRate:85,zones:{alpha:25,beta:30,theta:35,gamma:10}},{id:"2",profileId:"1",profileName:"–ú–∞—Ä–∏—è –î–∞–Ω–∏–Ω–∞",date:"04.01.2026",dateISO:"2026-01-04",type:"–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ",duration:16,timeElapsed:960,timeInZone:72,endReason:"completed",points:920,rating:4,mood:"same",concentration:4,avgHeartRate:68,maxHeartRate:78,zones:{alpha:40,beta:20,theta:30,gamma:10}},{id:"3",profileId:"2",profileName:"–ñ–æ–ø–∞ –ñ–æ–ø–∞",date:"03.01.2026",dateISO:"2026-01-03",type:"–§–æ–∫—É—Å",duration:16,timeElapsed:960,timeInZone:65,endReason:"completed",points:780,rating:4,mood:"better",concentration:4,avgHeartRate:75,maxHeartRate:88,zones:{alpha:20,beta:35,theta:30,gamma:15}},{id:"4",profileId:"1",profileName:"–ú–∞—Ä–∏—è –î–∞–Ω–∏–Ω–∞",date:"02.01.2026",dateISO:"2026-01-02",type:"–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è",duration:16,timeElapsed:960,timeInZone:70,endReason:"completed",points:880,rating:5,mood:"better",concentration:5,avgHeartRate:70,maxHeartRate:82,zones:{alpha:22,beta:32,theta:33,gamma:13}},{id:"5",profileId:"2",profileName:"–ñ–æ–ø–∞ –ñ–æ–ø–∞",date:"01.01.2026",dateISO:"2026-01-01",type:"–î—ã—Ö–∞–Ω–∏–µ",duration:10,timeElapsed:600,timeInZone:0,endReason:"completed",rating:3,mood:"same",concentration:3,avgHeartRate:65,maxHeartRate:72},{id:"6",profileId:"1",profileName:"–ú–∞—Ä–∏—è –î–∞–Ω–∏–Ω–∞",date:"31.12.2025",dateISO:"2025-12-31",type:"–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è",duration:16,timeElapsed:960,timeInZone:75,endReason:"completed",points:950,rating:5,mood:"better",concentration:5,avgHeartRate:71,maxHeartRate:84},{id:"7",profileId:"1",profileName:"–ú–∞—Ä–∏—è –î–∞–Ω–∏–Ω–∞",date:"30.12.2025",dateISO:"2025-12-30",type:"–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ",duration:16,timeElapsed:960,timeInZone:68,endReason:"completed",points:870,rating:4,mood:"same",concentration:4},{id:"8",profileId:"2",profileName:"–ñ–æ–ø–∞ –ñ–æ–ø–∞",date:"29.12.2025",dateISO:"2025-12-29",type:"–§–æ–∫—É—Å",duration:16,timeElapsed:960,timeInZone:60,endReason:"early",points:720,rating:3,mood:"worse",concentration:3}],V=m.useMemo(()=>Array.from(new Set(x.map(t=>({id:t.profileId,name:t.profileName})))).map(t=>t.name),[]),G=m.useMemo(()=>Array.from(new Set(x.map(s=>s.type))),[]),u=m.useMemo(()=>x.filter(s=>{const t=r==="all"||s.profileName===r,n=o==="all"||s.type===o,l=!j||s.date.includes(j)||s.dateISO.includes(j);return t&&n&&l}),[r,o,j]),w=m.useMemo(()=>{const s=new Map;return x.forEach(t=>{const n=t.profileName;s.has(n)||s.set(n,{profileId:t.profileId,profileName:t.profileName,totalSessions:0,totalMinutes:0,avgTimeInZone:0,completedSessions:0,earlySessions:0,technicalSessions:0,sessionsByType:{}});const l=s.get(n);l.totalSessions++,l.totalMinutes+=t.duration;const d=l.avgTimeInZone*(l.totalSessions-1)+t.timeInZone;l.avgTimeInZone=d/l.totalSessions,t.endReason==="completed"?l.completedSessions++:t.endReason==="early"?l.earlySessions++:t.endReason==="technical"&&l.technicalSessions++,l.sessionsByType[t.type]=(l.sessionsByType[t.type]||0)+1,(!l.lastSessionDate||t.dateISO>l.lastSessionDate)&&(l.lastSessionDate=t.dateISO)}),Array.from(s.values())},[]),K=m.useMemo(()=>w.map(t=>{const n=x.filter(i=>i.profileId===t.profileId),l=new Date("2026-01-23"),d=new Date(l);d.setDate(d.getDate()-7);const f=new Date(l);f.setDate(f.getDate()-30);const D=n.filter(i=>new Date(i.dateISO)>=d),J=n.filter(i=>new Date(i.dateISO)>=f),N=D.filter(i=>i.endReason==="completed").length,v=J.filter(i=>i.endReason==="completed").length,k=4,ee=Math.max(0,k-N),O=4*4,se=Math.max(0,O-v);let y=0;N>0?y=Math.round(N/k*100):v>0?y=Math.round(v/O*100):y=0;const Z=n.filter(i=>i.endReason==="completed").sort((i,g)=>g.dateISO.localeCompare(i.dateISO));let S=0;if(Z.length>0){let i=new Date(l);for(const g of Z){const A=new Date(g.dateISO),H=Math.floor((i.getTime()-A.getTime())/(1e3*60*60*24));if(H===S)S++,i=A;else if(H>S)break}}return{profileId:t.profileId,profileName:t.profileName,recommendedFrequency:4,completedThisWeek:N,completedThisMonth:v,missedThisWeek:ee,missedThisMonth:se,complianceRate:y,streak:S}}),[w]),F=s=>{M(s)},T=m.useMemo(()=>{if(!a)return[];const s=[],t=Math.floor(a.duration/2),n=parseInt(a.id)||0;for(let l=0;l<=t;l++){const d=l*2,f=((n+d)*9301+49297)%233280/233280,D=Math.min(10,Math.max(0,3+d/a.duration*5+Math.sin(d/3)*1.5+(f-.5)*1));s.push({time:`${d} –º–∏–Ω`,value:Math.round(D*10)/10})}return s},[a]),L=u.length,X=u.reduce((s,t)=>s+t.duration,0);return!C||C.length===0?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsx(_,{className:"glass-elegant p-8 text-center",style:{background:"rgba(255, 255, 255, 0.25)"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{size:"xl",className:"mb-2",children:"–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö"}),e.jsx("p",{className:"text-muted-foreground",children:"–†–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏."})]})})}):x.length===0?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsx(_,{className:"glass-elegant p-8 text-center",style:{background:"rgba(255, 255, 255, 0.25)"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{size:"xl",className:"mb-2",children:"–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö"}),e.jsx("p",{className:"text-muted-foreground",children:"–†–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏."})]})})}):e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 pt-8 pb-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(b,{size:"2xl",children:"–ü—Ä–æ–≥—Ä–µ—Å—Å"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs(c,{gradient:"lavender",className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{name:"calendar",style:"rr",className:"h-5 w-5 text-muted-foreground"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground",children:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"})]}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-[#1a1a1a]",children:L})]}),e.jsxs(c,{gradient:"pink",className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{name:"trending-up",style:"rr",className:"h-5 w-5 text-muted-foreground"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground",children:"–ú–∏–Ω—É—Ç"})]}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-[#1a1a1a]",children:X})]})]}),e.jsxs(pe,{value:p,onValueChange:h,className:"w-full",children:[e.jsxs(he,{className:"glass-elegant grid w-full grid-cols-2 mb-6",children:[e.jsx(q,{value:"history",className:"flex items-center gap-2 data-[state=active]:bg-white/20 data-[state=active]:backdrop-blur-[8px]",children:"–ò—Å—Ç–æ—Ä–∏—è"}),e.jsx(q,{value:"participants",className:"flex items-center gap-2 data-[state=active]:bg-white/20 data-[state=active]:backdrop-blur-[8px]",children:"–£—á–∞—Å—Ç–Ω–∏–∫–∏"})]}),e.jsxs(U,{value:"history",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs(z,{value:r,onValueChange:R,children:[e.jsx(W,{children:e.jsx(B,{placeholder:"–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏"})}),e.jsxs($,{children:[e.jsx(I,{value:"all",children:"–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏"}),V.map(s=>e.jsx(I,{value:s,children:s},s))]})]}),e.jsxs(z,{value:o,onValueChange:P,children:[e.jsx(W,{children:e.jsx(B,{placeholder:"–í—Å–µ —Ç–∏–ø—ã"})}),e.jsxs($,{children:[e.jsx(I,{value:"all",children:"–í—Å–µ —Ç–∏–ø—ã"}),G.map(s=>e.jsx(I,{value:s,children:s},s))]})]}),e.jsx(ae,{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ (–î–î.–ú–ú.–ì–ì–ì–ì)",value:j,onChange:s=>Q(s.target.value)})]}),u.length===0?e.jsxs(c,{className:"p-8 sm:p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-[#1a1a1a]/10 to-[#1a1a1a]/5 rounded-full flex items-center justify-center",children:e.jsx(E,{name:"trending-up",style:"rr",className:"h-12 w-12 text-[#1a1a1a]/40"})}),e.jsx(b,{size:"xl",className:"mb-4 text-2xl sm:text-3xl",children:"–ù–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"}),e.jsx("p",{className:"text-[#1a1a1a]/70 mb-6 max-w-md mx-auto",children:"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"})]}):e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsxs(c,{className:"p-4 cursor-pointer transition-all hover:shadow-lg hover:scale-[1.01] active:scale-[0.99]",onClick:()=>F(s),role:"button",tabIndex:0,onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),F(s))},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm sm:text-base md:text-lg font-semibold text-[#1a1a1a]",children:s.date}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-[#1a1a1a]/70",children:s.type}),e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/60 mt-1",children:s.profileName})]}),s.points&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-[#1a1a1a]/70",children:"–û—á–∫–∏"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg font-semibold text-[#1a1a1a]",children:s.points})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs sm:text-sm md:text-base text-[#1a1a1a]/70 mb-2",children:[e.jsxs("span",{children:[s.duration," –º–∏–Ω"]}),s.timeInZone>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[s.timeInZone,"% –≤ –∑–æ–Ω–µ"]})]}),s.endReason==="early"&&s.type!=="–î—ã—Ö–∞–Ω–∏–µ"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-xs sm:text-sm md:text-base text-orange-600",children:"–î–æ—Å—Ä–æ—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ"})]}),s.endReason==="technical"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-xs sm:text-sm md:text-base text-red-600",children:"–ü—Ä–µ—Ä–≤–∞–Ω–æ"})]})]}),s.timeInZone>0&&e.jsx("div",{className:"w-full bg-[#1a1a1a]/10 rounded-full h-2",children:e.jsx("div",{className:"bg-[#a8d8ea] h-2 rounded-full",style:{width:`${s.timeInZone}%`}})})]},s.id))})]}),e.jsx(U,{value:"participants",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(s=>{const t=K.find(n=>n.profileId===s.profileId);return e.jsxs("div",{className:"bg-white rounded-[20px] shadow-[0_4px_20px_rgba(0,0,0,0.06)] p-4 sm:p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#1a1a1a] mb-2",children:s.profileName})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#1a1a1a]",children:s.totalSessions})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"–ú–∏–Ω—É—Ç"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#1a1a1a]",children:s.totalMinutes})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"% –≤ –∑–æ–Ω–µ"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-[#1a1a1a]",children:[Math.round(s.avgTimeInZone),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"–ó–∞–≤–µ—Ä—à–µ–Ω–æ"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#1a1a1a]",children:s.completedSessions})]})]}),t&&e.jsxs("div",{className:"border-t border-[#1a1a1a]/10 pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-[#1a1a1a]",children:"–ß–∞—Å—Ç–æ—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"}),e.jsx("p",{className:`text-xs sm:text-sm font-semibold ${t.complianceRate>=80?"text-green-600":t.complianceRate>=50?"text-[#F3B83A]":t.complianceRate>0?"text-coral":"text-[#1a1a1a]/50"}`,children:t.complianceRate>0?`${t.complianceRate}% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ`:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"})]}),t.complianceRate>0&&t.complianceRate<50&&e.jsx("div",{className:"p-2 sm:p-3 bg-coral/10 border border-coral/20 rounded-lg",children:e.jsxs("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70",children:["–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–æ ",t.recommendedFrequency," —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"]})}),t.complianceRate>=50&&t.complianceRate<80&&e.jsx("div",{className:"p-2 sm:p-3 bg-[#F3B83A]/10 border border-[#F3B83A]/20 rounded-lg",children:e.jsxs("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70",children:["–•–æ—Ä–æ—à–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å! –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è ",t.recommendedFrequency," —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é"]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1a1a1a]/70 mb-0.5",children:"–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è"}),e.jsxs("p",{className:"font-semibold text-[#1a1a1a]",children:[t.recommendedFrequency,"/–Ω–µ–¥"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1a1a1a]/70 mb-0.5",children:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ (–Ω–µ–¥)"}),e.jsx("p",{className:"font-semibold text-[#1a1a1a]",children:t.completedThisWeek})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1a1a1a]/70 mb-0.5",children:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ (–º–µ—Å)"}),e.jsx("p",{className:"font-semibold text-[#1a1a1a]",children:t.completedThisMonth})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1a1a1a]/70 mb-0.5",children:"–°–µ—Ä–∏—è"}),e.jsxs("p",{className:"font-semibold text-[#1a1a1a]",children:[t.streak," ",t.streak===1?"–¥–µ–Ω—å":t.streak<5?"–¥–Ω—è":"–¥–Ω–µ–π"]})]})]}),t.complianceRate>0&&e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-[#1a1a1a]/10 rounded-full h-2.5 overflow-hidden",children:e.jsx("div",{className:`h-2.5 rounded-full transition-all ${t.complianceRate>=80?"bg-gradient-to-r from-green-500 to-green-400":t.complianceRate>=50?"bg-gradient-to-r from-[#F3B83A] to-[#FFD54F]":"bg-gradient-to-r from-coral to-coral-light"}`,style:{width:`${Math.min(t.complianceRate,100)}%`}})})})]}),e.jsxs("div",{className:"border-t border-[#1a1a1a]/10 pt-4 mt-4",children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-2",children:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ —Ç–∏–ø–∞–º:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(s.sessionsByType).map(([n,l])=>e.jsxs("span",{className:"text-xs sm:text-sm px-2 py-1 bg-[#1a1a1a]/5 rounded-full text-[#1a1a1a]",children:[n,": ",l]},n))})]})]},s.profileId)})})})]}),e.jsx(ce,{open:!!a,onOpenChange:s=>!s&&M(null),children:e.jsxs(oe,{className:"w-[95vw] max-w-3xl max-h-[95vh] sm:max-h-[90vh] flex flex-col p-0 m-4 sm:m-0",children:[e.jsx("div",{className:"p-4 sm:p-6 pb-3 sm:pb-4 flex-shrink-0",children:e.jsx(xe,{children:e.jsx(b,{size:"xl",className:"text-xl sm:text-2xl md:text-3xl",children:"–î–µ—Ç–∞–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"})})}),e.jsx(le,{className:"h-[calc(95vh-100px)] sm:h-[calc(90vh-120px)] px-4 sm:px-6 pb-4 sm:pb-6",children:a&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx(c,{children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"–£—á–∞—Å—Ç–Ω–∏–∫"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-[#1a1a1a]",children:a.profileName})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-0.5 sm:mb-1",children:"–î–∞—Ç–∞"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-[#1a1a1a]",children:a.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-0.5 sm:mb-1",children:"–¢–∏–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-[#1a1a1a]",children:a.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-0.5 sm:mb-1",children:"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"}),e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-[#1a1a1a]",children:[a.duration," –º–∏–Ω"]})]})]}),a.endReason==="early"&&a.type!=="–î—ã—Ö–∞–Ω–∏–µ"&&e.jsx("div",{className:"p-2 sm:p-3 bg-orange-50 rounded-lg",children:e.jsx("p",{className:"text-xs sm:text-sm text-orange-800",children:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–æ—Å—Ä–æ—á–Ω–æ"})}),a.endReason==="technical"&&e.jsx("div",{className:"p-2 sm:p-3 bg-red-50 rounded-lg",children:e.jsx("p",{className:"text-xs sm:text-sm text-red-800",children:a.technicalIssue||"–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞ –∏–∑-–∑–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º"})})]})}),(a.rating||a.mood||a.concentration)&&e.jsxs(c,{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#1a1a1a] mb-3 sm:mb-4",children:"–û—Ü–µ–Ω–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.rating&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1.5 sm:mb-2",children:"–û—Ü–µ–Ω–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex gap-0.5 sm:gap-1",children:[1,2,3,4,5].map(s=>e.jsx("span",{className:`text-xl sm:text-2xl ${s<=a.rating?"text-[#F3B83A]":"text-[#1a1a1a]/20"}`,children:"‚òÖ"},s))}),e.jsxs("span",{className:"text-xs sm:text-sm text-[#1a1a1a]/70",children:[a.rating," –∏–∑ 5"]})]})]}),a.mood&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1.5 sm:mb-2",children:"–ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl sm:text-2xl",children:a.mood==="better"?"üòä":a.mood==="same"?"üòê":"üòü"}),e.jsx("span",{className:"text-sm sm:text-base text-[#1a1a1a] font-medium",children:a.mood==="better"?"–õ—É—á—à–µ":a.mood==="same"?"–¢–∞–∫ –∂–µ":"–•—É–∂–µ"})]})]}),a.concentration&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1.5 sm:mb-2",children:"–£—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl sm:text-2xl",children:a.concentration===1?"üòµ":a.concentration===2?"üòê":a.concentration===3?"üôÇ":a.concentration===4?"üòä":"ü§ì"}),e.jsx("span",{className:"text-sm sm:text-base text-[#1a1a1a] font-medium",children:a.concentration===1?"–†–∞—Å—Å–µ—è–Ω":a.concentration===2?"–ù–µ–º–Ω–æ–≥–æ":a.concentration===3?"–ù–æ—Ä–º–∞–ª—å–Ω–æ":a.concentration===4?"–•–æ—Ä–æ—à–æ":"–û—Ç–ª–∏—á–Ω–æ"})]})]})]})]}),a.endReason!=="technical"&&T.length>0&&e.jsxs(c,{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#1a1a1a] mb-3 sm:mb-4",children:"–î–∏–Ω–∞–º–∏–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏"}),e.jsx(fe,{data:T.map(s=>({day:s.time,mood:s.value})),color:"#a8d8ea"}),e.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center justify-between text-xs sm:text-sm text-[#1a1a1a]/70",children:[e.jsx("span",{children:"–í—Ä–µ–º—è"}),e.jsx("span",{children:"–£—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏"})]})]}),a.timeInZone>0&&e.jsxs(c,{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#1a1a1a] mb-3 sm:mb-4",children:"–í—Ä–µ–º—è –≤ –∑–æ–Ω–µ"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-[#1a1a1a]/70",children:"–ü—Ä–æ—Ü–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞"}),e.jsxs("span",{className:"font-semibold text-[#1a1a1a]",children:[a.timeInZone,"%"]})]}),e.jsx("div",{className:"w-full bg-[#1a1a1a]/10 rounded-full h-3 sm:h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-[#a8d8ea] to-[#6ab9e7] h-3 sm:h-4 rounded-full transition-all",style:{width:`${a.timeInZone}%`}})}),a.points&&e.jsxs("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/60 mt-1.5 sm:mt-2",children:["–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞–¥ –ø–æ—Ä–æ–≥–æ–º: ",Math.round(a.duration*60*a.timeInZone/100)," —Å–µ–∫"]}),a.points&&e.jsxs("div",{className:"pt-2 border-t border-[#1a1a1a]/10",children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#1a1a1a]/70 mb-1",children:"–û—á–∫–∏"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-[#1a1a1a]",children:a.points})]})]})]})]})})]})})]})}export{Ie as default};
