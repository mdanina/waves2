import{r as b,j as e}from"./vendor-radix-ClAtPGFM.js";import{u as ne,a as oe,e as ie,c as ce}from"./vendor-react-C_NXOhYK.js";import{g as de,p as Y,w as me,f as ee,B,y as xe,z as ge,M as D,r as he,u as ue,H as je,s as se}from"./index-BetUtCwY.js";import{u as be,a as pe}from"./useAppointments-CxXmeEP8.js";import{h as fe}from"./appointmentStorage-DwszACBB.js";import{getProfiles as Ne,calculateAge as le}from"./profileStorage-Bslow6L6.js";import{r as ye,b as ve}from"./assessmentStorage-wjVU0Ga4.js";import{g as T,a as h,b as O,c as p}from"./resultsCalculations-BE7Im5GD.js";import{C as M,a as E,b as W}from"./collapsible-BuHrCNTH.js";import{P as S}from"./plus-DZlllSoy.js";import{L as H}from"./lightbulb-BK41v88e.js";import{G as we}from"./gift-BMukBDwm.js";import{S as _e}from"./save-gFzSLb3g.js";import"./vendor-charts-DLBwBPLi.js";import"./vendor-query-DNK10Tnx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function ae(g){return"version"in g&&g.version===2}function ke(g,d,o){const t=ne(),s=oe(),[j,u]=b.useState(!0),[i,v]=b.useState(null),[n,$]=b.useState(null),[w,c]=b.useState([]),[r,l]=b.useState(null),[m,_]=b.useState(null);return b.useEffect(()=>{let x=!1;async function L(){if(!d){if(!g){x||t("/cabinet");return}try{x||u(!0);const f=await Ne();if(x)return;const N=f.find(a=>a.type==="parent"),G=f.find(a=>a.type==="partner"),J=f.filter(a=>a.type==="child");N&&!x?(Y.log("Loaded parent profile:",{id:N.id,first_name:N.first_name,worry_tags:N.worry_tags,worry_tags_type:typeof N.worry_tags,worry_tags_is_array:Array.isArray(N.worry_tags)}),v(N)):!N&&!x&&Y.warn("Parent profile not found in loaded profiles"),G&&!x&&$(G);const Q=f.map(a=>a.id),{data:k,error:C}=await me.from("assessments").select("*").in("profile_id",Q).eq("status","completed").in("assessment_type",["parent","family","checkup"]);if(x)return;if(C)throw C;const R=(k==null?void 0:k.filter(a=>a.assessment_type==="parent"))||[],z=(k==null?void 0:k.filter(a=>a.assessment_type==="family"))||[],V=(k==null?void 0:k.filter(a=>a.assessment_type==="checkup"))||[];let y=null,P=null;N&&(y=R.find(a=>a.profile_id===N.id)||null,P=z.find(a=>a.profile_id===N.id)||null),!y&&R.length>0&&(y=R[0]),!P&&z.length>0&&(P=z[0]);const K=async a=>{if(!a)return null;if(!a.results_summary||Object.keys(a.results_summary).length===0||a.results_summary.status==="completed")try{return await ye(a.id),await ve(a.profile_id,a.assessment_type)}catch(I){return Y.error(`Error recalculating ${a.assessment_type} assessment:`,I),a}return a},[X,Z]=await Promise.all([K(y),K(P)]);if(x)return;X&&!x&&l(X),Z&&!x&&_(Z);const q=[];if(o){const a=V.find(A=>A.id===o);if(a&&a.results_summary){const A=J.find(I=>I.id===a.profile_id);A&&q.push({profile:A,assessment:a,results:a.results_summary})}}else{const a=new Map(V.map(A=>[A.profile_id,A]));for(const A of J){const I=a.get(A.id);I&&I.results_summary&&q.push({profile:A,assessment:I,results:I.results_summary})}}x||c(q),!x&&q.length===0&&!X&&!Z&&(ee.error("Завершенные оценки не найдены"),t("/cabinet"))}catch(f){x||(Y.error("Error loading results:",f),ee.error("Ошибка при загрузке результатов"))}finally{x||u(!1)}}}return d||(g?L():x||u(!1)),()=>{x=!0}},[g,d,t,s.pathname,o]),{loading:j,parentProfile:i,partnerProfile:n,childrenCheckups:w,parentAssessment:r,familyAssessment:m}}const $e={emotion_regulation:"Эмоции",behavior:"Поведение",executive_functions:"Внимание",sensory_processing:"Сенсорика",communication:"Речь",social_cognition:"Социальное",identity:"Самооценка",learning:"Обучение",motivation:"Мотивация",trauma:"Травма"},Ce=["emotion_regulation","behavior","executive_functions","sensory_processing","communication","social_cognition","identity","learning","motivation","trauma"];function Me({childrenCheckups:g,parentAssessment:d,familyAssessment:o}){const t=b.useRef(null),[s,j]=b.useState(!1),[u,i]=b.useState(!0),[v,n]=b.useState(0),$=g.length+(d?1:0)+(o?1:0),w=()=>{if(!t.current)return;const{scrollLeft:r,scrollWidth:l,clientWidth:m}=t.current;j(r>0),i(r<l-m-10);const x=Math.round(r/336);n(Math.max(0,Math.min(x,$-1)))};b.useEffect(()=>{w();const r=t.current;if(r)return r.addEventListener("scroll",w),window.addEventListener("resize",w),()=>{r.removeEventListener("scroll",w),window.removeEventListener("resize",w)}},[g,d,o]);const c=r=>{if(!t.current)return;const m=336,_=t.current.scrollLeft,x=r==="left"?_-m:_+m;t.current.scrollTo({left:x,behavior:"smooth"});const L=Math.round(x/m);n(Math.max(0,Math.min(L,$-1)))};return e.jsxs("div",{className:"relative",children:[s&&e.jsx(B,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-white/90 hover:bg-white shadow-md",onClick:()=>c("left"),"aria-label":"Предыдущая карточка",children:e.jsx(xe,{className:"h-5 w-5 text-ink"})}),u&&e.jsx(B,{variant:"ghost",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-white/90 hover:bg-white shadow-md",onClick:()=>c("right"),"aria-label":"Следующая карточка",children:e.jsx(ge,{className:"h-5 w-5 text-ink"})}),e.jsxs("div",{ref:t,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:w,children:[g.map(r=>{const l=r.profile,m=r.results,_=l.dob?le(l.dob):null,x=ae(m);return e.jsxs("div",{className:"min-w-[320px] flex-1 rounded-xl bg-gradient-lavender p-6 text-ink shadow-soft",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-xl font-extrabold text-ink",children:[l.first_name," ",l.last_name||""]}),_!==null&&e.jsxs("p",{className:"text-sm text-ink/70",children:[_," лет"]})]}),e.jsx("div",{className:"space-y-2",children:x?e.jsx(e.Fragment,{children:Ce.map(L=>{const f=m[L];return f?e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink text-sm",children:$e[L]}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(f.status)," ",h(f.status)]})]},L):null})}):e.jsxs(e.Fragment,{children:[m.emotional&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Эмоции"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(m.emotional.status)," ",h(m.emotional.status)]})]}),m.conduct&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Поведение"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(m.conduct.status)," ",h(m.conduct.status)]})]}),m.peer_problems&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Социальное"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(m.peer_problems.status)," ",h(m.peer_problems.status)]})]}),m.hyperactivity&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Активность"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(m.hyperactivity.status)," ",h(m.hyperactivity.status)]})]})]})})]},l.id)}),d&&e.jsxs("div",{className:"min-w-[320px] flex-1 rounded-xl bg-gradient-honey p-6 text-ink shadow-soft",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-xl font-extrabold text-ink",children:"Вы"})}),e.jsx("div",{className:"space-y-2",children:d.results_summary?(()=>{const r=d.results_summary;return e.jsxs(e.Fragment,{children:[r.anxiety&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Тревожность"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(r.anxiety.status)," ",h(r.anxiety.status)]})]}),r.depression&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Депрессия"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(r.depression.status)," ",h(r.depression.status)]})]})]})})():e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-ink/80",children:"Родительская оценка завершена"}),d.completed_at&&e.jsx("p",{className:"text-xs text-ink/70",children:new Date(d.completed_at).toLocaleDateString("ru-RU")})]})})]}),o&&e.jsxs("div",{className:"min-w-[320px] flex-1 rounded-xl bg-gradient-sage p-6 text-ink shadow-soft",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-xl font-extrabold text-ink",children:"Семья"})}),e.jsx("div",{className:"space-y-2",children:o.results_summary?(()=>{const r=o.results_summary;return e.jsxs(e.Fragment,{children:[r.family_stress&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Семейный стресс"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(r.family_stress.status)," ",h(r.family_stress.status)]})]}),r.partner_relationship&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Отношения с партнером"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(r.partner_relationship.status)," ",h(r.partner_relationship.status)]})]}),r.coparenting&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ink",children:"Совместное воспитание"}),e.jsxs("p",{className:"text-sm text-ink/80",children:[T(r.coparenting.status)," ",h(r.coparenting.status)]})]})]})})():e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-ink/80",children:"Семейная оценка завершена"}),o.completed_at&&e.jsx("p",{className:"text-xs text-ink/70",children:new Date(o.completed_at).toLocaleDateString("ru-RU")})]})})]})]}),$>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:$}).map((r,l)=>e.jsx("button",{onClick:()=>{if(!t.current)return;t.current.scrollTo({left:l*336,behavior:"smooth"}),n(l)},className:`h-2 rounded-full transition-all ${l===v?"w-8 bg-ink":"w-2 bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Перейти к карточке ${l+1}`},l))})]})}const Ee=["Фокус и внимание","Грусть и плач","Тревоги и беспокойства","Питание","Сон и режим","Туалет","Сенсорная чувствительность","Гнев и агрессия","Импульсивность","Травма","Горе и потеря","Буллинг","Самооценка","Школа/детский сад","Удары, укусы или пинки","Гендерная или сексуальная идентичность","Сотрудничество"],re=[{key:"emotion_regulation",title:"Регуляция эмоций",shortTitle:"Эмоции",maxScore:24,meanings:{concerning:"В разделе, касающемся эмоционального состояния {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на более выраженные эмоциональные сложности, которые, вероятно, значительно влияют на повседневную жизнь ребенка и жизнь вашей семьи. <strong>Очень важно не откладывать обращение к специалисту</strong>, чтобы получить квалифицированную помощь и поддержку.",borderline:"Здесь видно, что в разделе, который касается эмоционального состояния {NAME} (это вопросы о грусти, тревоге, страхах, трудностях с самообладанием), есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не диагноз, а скорее сигнал</strong> о том, что ребенок, возможно, испытывает определенные эмоциональные трудности. Они пока не критичны, но могут влиять на его самочувствие и поведение. Важно разобраться в их причинах, чтобы подобрать подходящую поддержку.",typical:"Судя по ответам в опроснике, в сфере эмоциональной регуляции у {NAME} всё благополучно, и это очень хорошо! Мы не видим высоких баллов по пунктам, касающимся тревоги, грусти, страхов или сложностей с самообладанием. <strong>Это значит, что с эмоциональным фоном ребенка всё в порядке</strong>, и мы можем сфокусироваться на других областях."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать подходящего специалиста, который разберется в ситуации и предложит план поддержки.","<strong>Создайте безопасное пространство для выражения чувств.</strong> Позвольте ребенку говорить о своих переживаниях без осуждения. Покажите, что вы рядом и готовы выслушать.","<strong>Следите за режимом дня.</strong> Регулярный сон, питание и физическая активность помогают стабилизировать эмоциональное состояние."],borderline:["<strong>Уделяйте больше времени разговорам о чувствах.</strong> Спрашивайте ребенка, как прошел его день, что его порадовало или расстроило. Это поможет ему лучше понимать свои эмоции.","<strong>Обучайте способам справляться с переживаниями.</strong> Дыхательные упражнения, рисование, физическая активность — найдите то, что помогает вашему ребенку успокоиться.","<strong>Наблюдайте за динамикой.</strong> Если вы заметите ухудшение состояния, запишитесь на бесплатную консультацию в Waves — мы поможем подобрать специалиста."],typical:["<strong>Продолжайте поддерживать эмоциональную связь.</strong> Регулярно разговаривайте с ребенком о его чувствах и переживаниях — это укрепляет доверие.","<strong>Моделируйте здоровое отношение к эмоциям.</strong> Показывайте на своем примере, как можно справляться с трудными чувствами.","<strong>Отмечайте успехи.</strong> Хвалите ребенка, когда он справляется с трудными ситуациями — это укрепляет его уверенность в себе."]}},{key:"behavior",title:"Поведение",shortTitle:"Поведение",maxScore:16,meanings:{concerning:"В разделе, касающемся поведения {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на более выраженные и, возможно, систематические трудности в поведении, которые, вероятно, значительно влияют на адаптацию ребенка в социуме, на отношения в семье, в школе или детском саду. <strong>Эти проявления требуют пристального внимания и квалифицированной помощи.</strong>",borderline:"В разделе, касающемся поведения {NAME}, есть показатели, которые говорят о некоторых трудностях. Баллы находятся в «тревожной» зоне. <strong>Это не обязательно означает серьезные проблемы</strong>, но это сигнал, что определенные модели поведения могут быть дезадаптивными или вызывать сложности у ребенка и в его окружении. Важно разобраться, почему они проявляются, и как можно скорректировать их для благополучия ребенка.",typical:"В вопросах, касающихся поведения {NAME}, судя по ответам, всё достаточно благополучно! Мы не видим высоких баллов по пунктам, связанным с агрессией, обманом или нарушением правил. <strong>Это очень хороший показатель.</strong> Если у вас есть конкретные вопросы по поведенческим аспектам, вы можете их задать, но в целом по опроснику эта сфера не является проблемной."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> При значительных поведенческих трудностях важно понять их причину. Мы поможем подобрать специалиста, который разберется в ситуации.","<strong>Сохраняйте спокойствие в сложных ситуациях.</strong> Ваше спокойствие помогает ребенку регулировать свои эмоции. Избегайте криков и наказаний в момент вспышки.","<strong>Устанавливайте четкие и последовательные правила.</strong> Ребенку важно понимать границы и ожидания."],borderline:["<strong>Обратите внимание на триггеры.</strong> Постарайтесь понять, в каких ситуациях ребенку сложнее всего контролировать поведение.","<strong>Хвалите желаемое поведение.</strong> Положительное подкрепление работает лучше, чем наказания.","<strong>Учите альтернативным способам выражения чувств.</strong> Помогите ребенку находить слова для своих эмоций вместо действий."],typical:["<strong>Продолжайте поддерживать позитивную дисциплину.</strong> Четкие правила в сочетании с теплом и поддержкой помогают ребенку развивать самоконтроль.","<strong>Поощряйте самостоятельность.</strong> Давайте ребенку возможность принимать решения в соответствии с возрастом.","<strong>Будьте примером.</strong> Дети учатся справляться с трудностями, наблюдая за взрослыми."]}},{key:"executive_functions",title:"Исполнительные функции",shortTitle:"Внимание",maxScore:28,meanings:{concerning:"В разделе, касающемся исполнительных функций {NAME} (внимание, импульсивность, способность доводить дела до конца), мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на выраженные трудности с концентрацией, контролем импульсов или организацией деятельности, которые, вероятно, значительно влияют на обучение и повседневную жизнь. <strong>Рекомендуется консультация специалиста</strong> для точной оценки ситуации.",borderline:"В разделе, касающемся исполнительных функций {NAME} (внимание, усидчивость, импульсивность), есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не диагноз</strong>, но сигнал о том, что ребенок может быть более подвижным или отвлекаемым, чем сверстники. Важно понаблюдать за ситуацией и при необходимости обратиться за консультацией.",typical:"Судя по ответам в опроснике, в сфере исполнительных функций у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся внимания, импульсивности или трудностей с организацией деятельности. <strong>Ребенок способен концентрироваться на задачах</strong> и контролировать свою активность в соответствии с возрастом."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Для точной оценки ситуации важно пройти диагностику у специалиста. Мы поможем подобрать подходящего.","<strong>Структурируйте среду.</strong> Четкий распорядок дня, минимум отвлекающих факторов и разбивка задач на небольшие шаги помогают ребенку справляться.","<strong>Обеспечьте физическую активность.</strong> Регулярные физические упражнения помогают направить энергию в позитивное русло."],borderline:["<strong>Наблюдайте за ситуацией.</strong> Отслеживайте, в каких условиях ребенку легче сосредоточиться.","<strong>Используйте таймеры и визуальные подсказки.</strong> Они помогают ребенку организовать время и структурировать задачи.","<strong>Делайте перерывы.</strong> Короткие паузы между заданиями помогают ребенку перезагрузиться."],typical:["<strong>Поддерживайте здоровый режим.</strong> Достаточный сон, сбалансированное питание и регулярная физическая активность способствуют хорошей концентрации.","<strong>Развивайте навыки планирования.</strong> Помогайте ребенку учиться организовывать свои дела.","<strong>Поощряйте увлечения.</strong> Занятия, которые увлекают ребенка, развивают способность к длительной концентрации."]}},{key:"sensory_processing",title:"Сенсорная обработка",shortTitle:"Сенсорика",maxScore:20,meanings:{concerning:"В разделе, касающемся сенсорной обработки {NAME} (реакции на звуки, свет, прикосновения, координация), мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на значительные особенности сенсорного восприятия, которые могут существенно влиять на повседневную жизнь и обучение. <strong>Важно обратиться к специалисту</strong> для оценки ситуации и подбора поддержки.",borderline:"В разделе, касающемся сенсорной обработки {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не обязательно говорит о серьезных проблемах</strong>, но указывает на некоторые особенности восприятия сенсорной информации. Ребенок может быть более чувствителен к определенным стимулам или иметь небольшие трудности с координацией.",typical:"Судя по ответам в опроснике, в сфере сенсорной обработки у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся чувствительности к звукам, свету или прикосновениям, а также координации движений. <strong>Ребенок адекватно воспринимает сенсорную информацию</strong> и не испытывает значительного дискомфорта."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать специалиста, который оценит сенсорные особенности ребенка и разработает программу поддержки.","<strong>Создайте комфортную сенсорную среду.</strong> Учитывайте чувствительность ребенка при выборе одежды, освещения, уровня шума.","<strong>Предупреждайте о сенсорных изменениях.</strong> Готовьте ребенка к новым сенсорным впечатлениям заранее."],borderline:["<strong>Наблюдайте за паттернами.</strong> Отмечайте, какие сенсорные стимулы вызывают дискомфорт или, наоборот, приносят удовольствие.","<strong>Предлагайте «сенсорные паузы».</strong> Если ребенок перегружен, дайте ему время в тихом, спокойном месте.","<strong>Развивайте моторные навыки.</strong> Занятия спортом, танцами, плаванием помогают улучшить координацию."],typical:["<strong>Продолжайте разнообразить сенсорный опыт.</strong> Разные текстуры, звуки, активности способствуют развитию.","<strong>Поддерживайте физическую активность.</strong> Это помогает развивать координацию и чувство тела в пространстве.","<strong>Будьте внимательны к изменениям.</strong> Иногда сенсорные особенности проявляются в определенные периоды развития."]}},{key:"communication",title:"Коммуникация и речь",shortTitle:"Речь",maxScore:20,meanings:{concerning:"В разделе, касающемся коммуникации и речи {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на значительные трудности с пониманием речи, выражением мыслей, произношением или невербальным общением. <strong>Раннее обращение к специалисту очень важно</strong> для эффективной помощи.",borderline:"В разделе, касающемся коммуникации и речи {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не критичная ситуация</strong>, но возможны небольшие трудности с произношением, словарным запасом или умением вести диалог. Стоит понаблюдать и при необходимости проконсультироваться со специалистом.",typical:"Судя по ответам в опроснике, в сфере коммуникации и речи у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся понимания речи, выражения мыслей или произношения. <strong>Коммуникативные навыки ребенка соответствуют возрасту.</strong>"},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать специалиста, который оценит речевое развитие и при необходимости составит программу поддержки.","<strong>Создавайте возможности для общения.</strong> Много разговаривайте с ребенком, читайте книги, обсуждайте события.","<strong>Используйте визуальные подсказки.</strong> Картинки и жесты могут помочь ребенку лучше понимать и выражать мысли."],borderline:["<strong>Развивайте речь через игру.</strong> Игры со словами, рассказывание историй, пение песен — всё это помогает.","<strong>Моделируйте правильную речь.</strong> Повторяйте за ребенком его мысли правильно, не критикуя его способ выражения.","<strong>При сомнениях — консультация.</strong> Даже при небольших трудностях специалист может дать полезные рекомендации. Запишитесь на бесплатную консультацию в Waves."],typical:["<strong>Продолжайте развивать речь.</strong> Чтение, обсуждение, новые слова — всё это обогащает словарный запас.","<strong>Учите выражать эмоции словами.</strong> Это важный навык для социального развития.","<strong>Поощряйте общение со сверстниками.</strong> Это развивает диалогические навыки."]}},{key:"social_cognition",title:"Социальное познание",shortTitle:"Социальное",maxScore:24,meanings:{concerning:"В разделе, касающемся социального познания {NAME} (отношения с другими детьми, эмпатия, понимание социальных ситуаций), мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на значительные трудности в социальном взаимодействии, которые могут влиять на отношения со сверстниками и взрослыми. <strong>Важно обратиться к специалисту</strong> для понимания причин и подбора помощи.",borderline:"В разделе, касающемся социального познания {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не означает серьезных проблем</strong>, но ребенок может иногда неверно понимать социальные ситуации или испытывать сложности в общении со сверстниками. Стоит обратить внимание на эту сферу.",typical:"Судя по ответам в опроснике, в сфере социального познания у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся отношений с другими детьми, эмпатии и понимания социальных правил. <strong>Ребенок умеет дружить и успешно взаимодействует с окружающими.</strong>"},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать специалиста, который разберется в ситуации и предложит программу развития социальных навыков.","<strong>Создавайте безопасные социальные ситуации.</strong> Маленькие группы, знакомая обстановка помогут ребенку практиковаться в общении.","<strong>Объясняйте социальные правила.</strong> То, что кажется очевидным взрослым, может быть непонятно ребенку."],borderline:["<strong>Помогите найти подходящий круг общения.</strong> Кружки по интересам, где ребенку легче общаться с единомышленниками.","<strong>Обсуждайте социальные ситуации.</strong> Разбирайте сложные случаи и вместе ищите решения.","<strong>Развивайте эмпатию.</strong> Обсуждайте чувства персонажей книг и фильмов."],typical:["<strong>Поддерживайте дружеские связи.</strong> Помогайте ребенку поддерживать контакт с друзьями.","<strong>Учите разрешать конфликты.</strong> Это важный социальный навык для жизни.","<strong>Расширяйте социальный опыт.</strong> Новые ситуации развивают гибкость в общении."]}},{key:"identity",title:"Идентичность и самооценка",shortTitle:"Самооценка",maxScore:12,meanings:{concerning:"В разделе, касающемся самооценки и идентичности {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на выраженные трудности — ребенок может сильно сомневаться в себе, негативно отзываться о себе или испытывать сложности с ощущением своего места в мире. <strong>Важно обратиться к специалисту</strong> для поддержки.",borderline:"В разделе, касающемся самооценки и идентичности {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не критично</strong>, но ребенок может иногда сомневаться в себе или сравнивать себя с другими не в свою пользу. Стоит уделить внимание укреплению его уверенности.",typical:"Судя по ответам в опроснике, в сфере самооценки и идентичности у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся неуверенности в себе или негативного отношения к себе. <strong>Ребенок в целом позитивно относится к себе</strong> и уверен в своих способностях."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Специалист поможет ребенку сформировать более позитивное отношение к себе.","<strong>Безусловное принятие.</strong> Показывайте ребенку, что любите его таким, какой он есть, вне зависимости от достижений.","<strong>Помогите найти сильные стороны.</strong> Каждый ребенок в чем-то уникален — помогите это увидеть и развить."],borderline:["<strong>Хвалите усилия, а не результат.</strong> Это помогает формировать здоровое отношение к себе и к неудачам.","<strong>Избегайте сравнений.</strong> Сравнивайте ребенка только с ним самим в прошлом, отмечая прогресс.","<strong>Давайте посильные задачи.</strong> Успех в выполнимых делах укрепляет уверенность."],typical:["<strong>Продолжайте поддерживать.</strong> Ваша вера в ребенка укрепляет его уверенность в себе.","<strong>Учите справляться с неудачами.</strong> Это часть жизни, и важно уметь их принимать и идти дальше.","<strong>Поощряйте самовыражение.</strong> Пусть ребенок развивает свои уникальные интересы и таланты."]}},{key:"learning",title:"Обучение",shortTitle:"Обучение",maxScore:12,meanings:{concerning:"В разделе, касающемся обучения {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на значительные трудности с усвоением нового материала, запоминанием информации или выполнением учебных заданий. <strong>Важно обратиться к специалисту</strong> для диагностики и подбора подходящей поддержки.",borderline:"В разделе, касающемся обучения {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не означает серьезных нарушений</strong>, но ребенок может медленнее усваивать материал или испытывать сложности в определенных областях. Стоит понаблюдать и при необходимости проконсультироваться.",typical:"Судя по ответам в опроснике, в сфере обучения у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся трудностей с усвоением материала или сопротивления учебе. <strong>Ребенок успешно усваивает новые знания и навыки</strong> в соответствии с возрастом."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать специалиста, который выявит конкретные трудности и составит план поддержки.","<strong>Адаптируйте подход к обучению.</strong> Разные дети учатся по-разному — найдите подходящий метод для вашего ребенка.","<strong>Взаимодействуйте с педагогами.</strong> Расскажите о трудностях ребенка, чтобы получить поддержку в учреждении."],borderline:["<strong>Разбивайте материал на части.</strong> Небольшие порции информации легче усваиваются.","<strong>Используйте разные каналы обучения.</strong> Визуальные, слуховые, практические материалы — найдите, что лучше работает.","<strong>Хвалите за усилия.</strong> Поддержка мотивирует продолжать учиться несмотря на трудности."],typical:["<strong>Поддерживайте любознательность.</strong> Отвечайте на вопросы, исследуйте вместе, поощряйте интерес к новому.","<strong>Развивайте разные навыки.</strong> Не только академические, но и практические, творческие.","<strong>Учите учиться.</strong> Навыки самоорганизации и планирования пригодятся в будущем."]}},{key:"motivation",title:"Мотивация",shortTitle:"Мотивация",maxScore:16,meanings:{concerning:"В разделе, касающемся мотивации {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на выраженные трудности — ребенку сложно заинтересоваться чем-либо, он быстро сдается при трудностях и редко проявляет настойчивость. <strong>Такое состояние может быть связано с эмоциональными проблемами</strong> и требует внимания специалиста.",borderline:"В разделе, касающемся мотивации {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не критичная ситуация</strong>, но ребенок может терять интерес к начатому делу или избегать сложных задач. Стоит обратить внимание на то, что помогает ребенку оставаться вовлеченным.",typical:"Судя по ответам в опроснике, в сфере мотивации у {NAME} всё благополучно! Мы не видим высоких баллов по пунктам, касающимся потери интереса или отказа от сложных задач. <strong>Ребенок проявляет интерес к занятиям</strong> и умеет преодолевать трудности."},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Низкая мотивация может быть симптомом эмоциональных проблем — важно разобраться в причинах со специалистом.","<strong>Найдите искру.</strong> Попробуйте разные занятия — что-то должно зажечь интерес ребенка.","<strong>Ставьте маленькие цели.</strong> Успех в маленьком деле мотивирует на большее."],borderline:["<strong>Связывайте задачи с интересами.</strong> Если ребенок любит динозавров — используйте эту тему для обучения.","<strong>Разбивайте большие задачи.</strong> Маленькие шаги не так пугают и дают ощущение прогресса.","<strong>Празднуйте достижения.</strong> Даже маленькие успехи заслуживают признания и похвалы."],typical:["<strong>Поддерживайте увлечения.</strong> Интересы ребенка — основа его мотивации.","<strong>Учите ставить цели.</strong> Это навык, который пригодится всю жизнь.","<strong>Показывайте связь усилий и результата.</strong> Это формирует здоровое отношение к труду."]}},{key:"trauma",title:"Травматический опыт",shortTitle:"Травма",maxScore:12,meanings:{concerning:"В разделе, касающемся травматического опыта {NAME}, мы видим достаточно высокие показатели. Баллы находятся в зоне «красного кода». Это указывает на вероятное наличие травматического опыта, который влияет на ребенка — это могут быть ночные кошмары, навязчивые мысли, избегание определенных ситуаций или другие признаки. <strong>Очень важно обратиться к специалисту</strong> для получения квалифицированной помощи.",borderline:"В разделе, касающемся травматического опыта {NAME}, есть показатели, на которые стоит обратить внимание. Баллы находятся в «тревожной» зоне. <strong>Это не означает обязательного наличия травмы</strong>, но есть признаки возможного влияния стрессовых событий на ребенка. Ситуация требует внимания и наблюдения.",typical:"Судя по ответам в опроснике, {NAME} не демонстрирует признаков травматического стресса. Если были стрессовые события в прошлом, ребенок успешно с ними справился. <strong>Это хороший показатель устойчивости.</strong>"},recommendations:{concerning:["<strong>Запишитесь на бесплатную консультацию в Waves.</strong> Мы поможем подобрать специалиста, который работает с травмой и поможет ребенку переработать опыт.","<strong>Создайте безопасную среду.</strong> Предсказуемость и стабильность очень важны для восстановления.","<strong>Не заставляйте говорить.</strong> Дайте ребенку время и пространство для переработки опыта в своем темпе."],borderline:["<strong>Будьте рядом.</strong> Ваша поддержка — главный ресурс для ребенка.","<strong>Наблюдайте за изменениями.</strong> Если симптомы усиливаются — запишитесь на консультацию в Waves.","<strong>Поддерживайте рутину.</strong> Привычный распорядок дает ощущение безопасности."],typical:["<strong>Поддерживайте открытый диалог.</strong> Пусть ребенок знает, что может рассказать вам о любых переживаниях.","<strong>Обсуждайте эмоции.</strong> Это помогает справляться с трудными ситуациями.","<strong>Будьте внимательны к изменениям.</strong> Реакция на стресс может проявиться не сразу."]}}];function We({childData:g,openSections:d,toggleSection:o}){var w;const t=g.profile,s=g.results,j=`child-${t.id}`,u=b.useMemo(()=>{var r,l;const c=(r=g.assessment)==null?void 0:r.worry_tags;return(c==null?void 0:c.child)||((l=t.worry_tags)==null?void 0:l.filter(m=>Ee.includes(m)))||[]},[(w=g.assessment)==null?void 0:w.worry_tags,t.worry_tags]),i=ae(s),v=c=>c.replace(/\{NAME\}/g,t.first_name),n=(c,r)=>{if(!r)return null;const l=r.max_score||c.maxScore,m=v(c.meanings[r.status]);return e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:c.title}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(r.status)}`,children:h(r.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${r.status==="concerning"?"bg-coral":r.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(r.score,l)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:d[`${j}-${c.key}-mean`],onOpenChange:()=>o(`${j}-${c.key}-mean`),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),d[`${j}-${c.key}-mean`]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",dangerouslySetInnerHTML:{__html:m}})})]}),e.jsxs(M,{open:d[`${j}-${c.key}-do`],onOpenChange:()=>o(`${j}-${c.key}-do`),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),d[`${j}-${c.key}-do`]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("ul",{className:"list-inside space-y-3 text-foreground",children:c.recommendations[r.status].map((_,x)=>e.jsx("li",{dangerouslySetInnerHTML:{__html:v(_)}},x))})})]})]})]},c.key)},$=(c,r)=>{if(!r)return null;const l=r.max_score||c.maxScore;return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:c.shortTitle}),e.jsxs("span",{className:`text-sm ${r.status==="concerning"?"text-coral":r.status==="borderline"?"text-yellow-500":"text-secondary"}`,children:["• ",h(r.status)]})]}),e.jsx("div",{className:"h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${r.status==="concerning"?"bg-coral":r.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(r.score,l)}%`}})})]},c.key)};if(i){const c=s;return e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-8",children:["Ментальное здоровье ",t.first_name]}),u.length>0&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4",children:["Беспокойства о ",t.first_name]}),e.jsxs("p",{className:"mb-4 text-foreground/70",children:["Беспокойства, которыми вы поделились о ",t.first_name]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((r,l)=>e.jsx("span",{className:"rounded-full bg-coral/20 px-4 py-2 text-sm font-medium text-coral",children:r},l))})]}),re.map(r=>{const l=c[r.key];return n(r,l)}),e.jsxs("div",{className:"mb-8 overflow-hidden rounded-lg bg-white border border-border/50",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("h3",{className:"text-2xl font-bold text-foreground",children:["Итоги ",t.first_name]})}),e.jsx("div",{className:"space-y-4 bg-white p-6",children:re.map(r=>{const l=c[r.key];return $(r,l)})})]})]})}return e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-8",children:["Ментальное здоровье ",t.first_name]}),u.length>0&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4",children:["Беспокойства о ",t.first_name]}),e.jsxs("p",{className:"mb-4 text-foreground/70",children:["Беспокойства, которыми вы поделились о ",t.first_name]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((c,r)=>e.jsx("span",{className:"rounded-full bg-coral/20 px-4 py-2 text-sm font-medium text-coral",children:c},r))})]}),s.emotional&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Эмоциональные трудности"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(s.emotional.status)}`,children:h(s.emotional.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.emotional.status==="concerning"?"bg-coral":s.emotional.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.emotional.score,20)}%`}})})]})]}),s.conduct&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Поведенческие трудности"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(s.conduct.status)}`,children:h(s.conduct.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.conduct.status==="concerning"?"bg-coral":s.conduct.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.conduct.score,20)}%`}})})]})]}),s.hyperactivity&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Трудности с активностью"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(s.hyperactivity.status)}`,children:h(s.hyperactivity.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.hyperactivity.status==="concerning"?"bg-coral":s.hyperactivity.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.hyperactivity.score,20)}%`}})})]})]}),s.peer_problems&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Социальные трудности"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(s.peer_problems.status)}`,children:h(s.peer_problems.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.peer_problems.status==="concerning"?"bg-coral":s.peer_problems.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.peer_problems.score,24)}%`}})})]})]}),e.jsxs("div",{className:"mb-8 overflow-hidden rounded-lg bg-white border border-border/50",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("h3",{className:"text-2xl font-bold text-foreground",children:["Итоги ",t.first_name]})}),e.jsxs("div",{className:"space-y-4 bg-white p-6",children:[s.emotional&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Эмоции"}),e.jsxs("span",{className:`text-sm ${s.emotional.status==="concerning"?"text-coral":s.emotional.status==="borderline"?"text-yellow-500":"text-secondary"}`,children:["• ",h(s.emotional.status)]})]}),e.jsx("div",{className:"h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.emotional.status==="concerning"?"bg-coral":s.emotional.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.emotional.score,20)}%`}})})]}),s.conduct&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Поведение"}),e.jsxs("span",{className:`text-sm ${s.conduct.status==="concerning"?"text-coral":s.conduct.status==="borderline"?"text-yellow-500":"text-secondary"}`,children:["• ",h(s.conduct.status)]})]}),e.jsx("div",{className:"h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.conduct.status==="concerning"?"bg-coral":s.conduct.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.conduct.score,20)}%`}})})]}),s.hyperactivity&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Активность"}),e.jsxs("span",{className:`text-sm ${s.hyperactivity.status==="concerning"?"text-coral":s.hyperactivity.status==="borderline"?"text-yellow-500":"text-secondary"}`,children:["• ",h(s.hyperactivity.status)]})]}),e.jsx("div",{className:"h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.hyperactivity.status==="concerning"?"bg-coral":s.hyperactivity.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.hyperactivity.score,20)}%`}})})]}),s.peer_problems&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Социальное"}),e.jsxs("span",{className:`text-sm ${s.peer_problems.status==="concerning"?"text-coral":s.peer_problems.status==="borderline"?"text-yellow-500":"text-secondary"}`,children:["• ",h(s.peer_problems.status)]})]}),e.jsx("div",{className:"h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${s.peer_problems.status==="concerning"?"bg-coral":s.peer_problems.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(s.peer_problems.score,24)}%`}})})]})]})]})]})}const Se=["Выгорание","Тревожность","Пониженное настроение","Трудности с концентрацией внимания","Общий стресс"];function Fe({parentProfile:g,parentAssessment:d,openSections:o,toggleSection:t}){var u;if(!d)return null;const s=d==null?void 0:d.worry_tags,j=(s==null?void 0:s.personal)||((u=g==null?void 0:g.worry_tags)==null?void 0:u.filter(i=>Se.includes(i)))||[];return e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8",children:"Ваше ментальное здоровье"}),j.length>0&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Беспокойства о себе"}),e.jsx("p",{className:"mb-4 text-foreground/70",children:"Беспокойства, которыми вы поделились о себе"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((i,v)=>e.jsx("span",{className:"rounded-full bg-coral/20 px-4 py-2 text-sm font-medium text-coral",children:i},v))})]}),d.results_summary?(()=>{const i=d.results_summary;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("p",{className:"text-foreground/70 mb-4",children:["Результаты родительской оценки ",d.completed_at?new Date(d.completed_at).toLocaleDateString("ru-RU"):""]}),i.anxiety&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Тревожность"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(i.anxiety.status)}`,children:h(i.anxiety.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${i.anxiety.status==="concerning"?"bg-coral":i.anxiety.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(i.anxiety.score,6)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:o["parent-anxiety-mean"],onOpenChange:()=>t("parent-anxiety-mean"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),o["parent-anxiety-mean"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",children:i.anxiety.status==="concerning"?e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"испытываете значительные симптомы тревожности."})," Это может проявляться в постоянном беспокойстве, напряжении, трудностях с расслаблением или физических симптомах (учащенное сердцебиение, потливость). Высокий уровень тревожности влияет на вашу способность заботиться о себе и семье."]}):i.anxiety.status==="borderline"?e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"можете испытывать некоторые симптомы тревожности."})," Это пограничный уровень — вы периодически чувствуете беспокойство или напряжение, но это еще не достигло критического уровня. Важно обратить внимание на свое состояние."]}):e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"не испытываете значительных симптомов тревожности."})," Вы в целом справляетесь со стрессом и умеете расслабляться. Продолжайте поддерживать баланс и заботиться о своем эмоциональном благополучии."]})})})]}),e.jsxs(M,{open:o["parent-anxiety-do"],onOpenChange:()=>t("parent-anxiety-do"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),o["parent-anxiety-do"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:i.anxiety.status==="concerning"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Обратитесь к специалисту."})," При значительном уровне тревожности рекомендуется консультация психолога или психотерапевта. В Waves мы можем помочь подобрать подходящего специалиста."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Практикуйте техники релаксации."})," Дыхательные упражнения, медитация, прогрессивная мышечная релаксация — найдите то, что помогает вам успокоиться."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ограничьте триггеры."})," Определите, что усиливает вашу тревогу (новости, социальные сети, кофеин) и по возможности снизьте их влияние."]})]}):i.anxiety.status==="borderline"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Уделите внимание самопомощи."})," Регулярные физические упражнения, достаточный сон и здоровое питание помогают снизить уровень тревожности."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Найдите время для себя."})," Даже 15-20 минут в день на занятие, которое приносит радость, могут существенно улучшить самочувствие."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Делитесь переживаниями."})," Разговор с близкими или друзьями о своих чувствах помогает снизить внутреннее напряжение."]})]}):e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Поддерживайте здоровые привычки."})," Продолжайте заботиться о сне, питании и физической активности — это основа эмоционального благополучия."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Развивайте устойчивость к стрессу."})," Практики осознанности и благодарности помогают укреплять психологическую устойчивость."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Создавайте баланс."})," Находите время и для работы/семьи, и для отдыха и собственных интересов."]})]})})]})]})]}),i.depression&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Депрессия"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(i.depression.status)}`,children:h(i.depression.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${i.depression.status==="concerning"?"bg-coral":i.depression.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(i.depression.score,6)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:o["parent-depression-mean"],onOpenChange:()=>t("parent-depression-mean"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),o["parent-depression-mean"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",children:i.depression.status==="concerning"?e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"испытываете значительные депрессивные симптомы."})," Это может проявляться в подавленном настроении, потере интереса к занятиям, усталости, нарушениях сна или аппетита. Такое состояние влияет на вашу способность заботиться о себе и семье."]}):i.depression.status==="borderline"?e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"можете испытывать некоторые депрессивные симптомы."})," Это пограничный уровень — вы можете периодически чувствовать подавленность или потерю энергии, но это еще не достигло критического уровня. Важно обратить внимание на свое состояние."]}):e.jsxs(e.Fragment,{children:["Эти результаты показывают, что вы ",e.jsx("strong",{children:"не испытываете значительных депрессивных симптомов."})," Ваше настроение и уровень энергии в целом стабильны. Продолжайте заботиться о себе и поддерживать эмоциональное благополучие."]})})})]}),e.jsxs(M,{open:o["parent-depression-do"],onOpenChange:()=>t("parent-depression-do"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),o["parent-depression-do"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:i.depression.status==="concerning"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Обратитесь к специалисту."})," При значительных депрессивных симптомах важно получить профессиональную помощь. В Waves мы можем помочь подобрать подходящего специалиста."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Не изолируйтесь."})," Даже если нет сил на общение, старайтесь поддерживать контакт с близкими. Расскажите им о своем состоянии."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Начните с малого."})," Не требуйте от себя многого. Небольшие шаги — короткая прогулка, один звонок другу — уже помогают."]})]}):i.depression.status==="borderline"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Следите за режимом."})," Регулярный сон, питание и физическая активность — базовые факторы, влияющие на настроение."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Планируйте приятные занятия."})," Даже если нет особого желания, включайте в день хотя бы одно занятие, которое раньше приносило радость."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Делитесь чувствами."})," Разговор с близким человеком или специалистом помогает не накапливать негативные эмоции."]})]}):e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Поддерживайте социальные связи."})," Общение с друзьями и близкими — важный фактор эмоционального благополучия."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Находите смысл и радость."})," Занятия, которые вас увлекают и наполняют, помогают поддерживать хорошее настроение."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Заботьтесь о теле."})," Физическая активность, свежий воздух и здоровый сон — естественные антидепрессанты."]})]})})]})]})]})]})})():e.jsx("div",{className:"rounded-lg border border-border bg-white p-6",children:e.jsx("p",{className:"text-foreground",children:"Родительская оценка завершена, но результаты еще не рассчитаны."})})]})}const te=["Разделение/развод","Семейный стресс","Отношения с партнером","Психическое здоровье партнера","Воспитание","Семейный конфликт"];function Re({parentProfile:g,partnerProfile:d,familyAssessment:o,openSections:t,toggleSection:s}){var i,v;if(!o)return e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8",children:"Ментальное здоровье вашей семьи"}),e.jsx("div",{className:"rounded-lg border border-border bg-white p-6",children:e.jsx("p",{className:"text-foreground/70",children:"Семейная оценка не завершена. Пройдите опрос о семье, чтобы увидеть результаты здесь."})})]});const j=o==null?void 0:o.worry_tags,u=(j==null?void 0:j.family)||((i=d==null?void 0:d.worry_tags)==null?void 0:i.filter(n=>te.includes(n)))||((v=g==null?void 0:g.worry_tags)==null?void 0:v.filter(n=>te.includes(n)))||[];return e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8",children:"Ментальное здоровье вашей семьи"}),e.jsxs("p",{className:"text-foreground/70 mb-4",children:["Результаты семейной оценки ",o.completed_at?new Date(o.completed_at).toLocaleDateString("ru-RU"):""]}),u.length>0&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Беспокойства о семье"}),e.jsx("p",{className:"mb-4 text-foreground/70",children:"Беспокойства, которыми вы поделились о семье"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((n,$)=>e.jsx("span",{className:"rounded-full bg-coral/20 px-4 py-2 text-sm font-medium text-coral",children:n},$))})]}),o.results_summary?(()=>{const n=o.results_summary;return e.jsxs("div",{className:"space-y-6",children:[n.family_stress&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Семейный стресс"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(n.family_stress.status)}`,children:h(n.family_stress.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${n.family_stress.status==="concerning"?"bg-coral":n.family_stress.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(n.family_stress.score,4)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:t["family-stress-mean"],onOpenChange:()=>s("family-stress-mean"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),t["family-stress-mean"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",children:n.family_stress.status==="concerning"?e.jsxs(e.Fragment,{children:["Ваша семья в настоящее время ",e.jsx("strong",{children:"испытывает высокий уровень стресса."})," Это может быть связано с финансовыми трудностями, проблемами со здоровьем, конфликтами или другими внешними факторами. Высокий семейный стресс влияет на всех членов семьи, включая детей."]}):n.family_stress.status==="borderline"?e.jsxs(e.Fragment,{children:["Ваша семья ",e.jsx("strong",{children:"испытывает умеренный уровень стресса."})," Это пограничный результат — периодически семья сталкивается с трудностями, но пока справляется с ними. Важно обратить внимание на эту ситуацию."]}):e.jsxs(e.Fragment,{children:["Ваша семья ",e.jsx("strong",{children:"справляется с повседневным стрессом."})," Уровень семейного стресса находится в пределах нормы. Вы умеете поддерживать друг друга и решать возникающие проблемы."]})})})]}),e.jsxs(M,{open:t["family-stress-do"],onOpenChange:()=>s("family-stress-do"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),t["family-stress-do"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:n.family_stress.status==="concerning"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Обратитесь за профессиональной помощью."})," Семейная терапия или консультация специалиста поможет найти выход из сложной ситуации. В Waves мы можем помочь."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Определите источники стресса."})," Постарайтесь понять, какие факторы создают наибольшее напряжение, и подумайте, что можно изменить."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Защитите детей."})," Старайтесь не вовлекать детей во взрослые проблемы и создавайте для них островки стабильности."]})]}):n.family_stress.status==="borderline"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Установите приоритеты."})," Определите, что действительно важно для семьи, и научитесь отказываться от второстепенного."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Проводите время вместе."})," Регулярное семейное время без гаджетов и отвлечений помогает укрепить связи."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Распределяйте обязанности."})," Убедитесь, что домашние дела и ответственность распределены справедливо между членами семьи."]})]}):e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Поддерживайте семейные традиции."})," Регулярные ритуалы и традиции создают чувство стабильности и укрепляют связи."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Сохраняйте открытое общение."})," Пусть каждый член семьи знает, что может поделиться своими переживаниями."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Планируйте отдых."})," Совместный отдых и развлечения помогают накапливать позитивные семейные воспоминания."]})]})})]})]})]}),n.partner_relationship&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Отношения с партнером"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(n.partner_relationship.status)}`,children:h(n.partner_relationship.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${n.partner_relationship.status==="concerning"?"bg-coral":n.partner_relationship.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(n.partner_relationship.score,10)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:t["family-partner-mean"],onOpenChange:()=>s("family-partner-mean"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),t["family-partner-mean"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",children:n.partner_relationship.status==="concerning"?e.jsxs(e.Fragment,{children:["Вы сообщили о ",e.jsx("strong",{children:"значительных трудностях в отношениях с партнером."})," Это может проявляться в частых конфликтах, отсутствии взаимопонимания, эмоциональной дистанции или других проблемах. Напряженные отношения между родителями влияют на всю семью, включая детей."]}):n.partner_relationship.status==="borderline"?e.jsxs(e.Fragment,{children:["В ваших отношениях с партнером ",e.jsx("strong",{children:"есть некоторые трудности."})," Это пограничный результат — периодически возникают недопонимания или конфликты, но в целом отношения функционируют. Важно обратить внимание на эти аспекты."]}):e.jsxs(e.Fragment,{children:["Ваши отношения с партнером ",e.jsx("strong",{children:"выглядят стабильными и здоровыми."})," Вы умеете общаться, поддерживать друг друга и справляться с разногласиями конструктивно."]})})})]}),e.jsxs(M,{open:t["family-partner-do"],onOpenChange:()=>s("family-partner-do"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),t["family-partner-do"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:n.partner_relationship.status==="concerning"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Рассмотрите парную терапию."})," Работа со специалистом помогает разобраться в проблемах и найти пути их решения. В Waves мы можем помочь подобрать терапевта."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Защитите детей от конфликтов."})," Старайтесь не выяснять отношения при детях и не вовлекать их в разногласия между взрослыми."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Найдите время для диалога."})," Выделите время, когда вы можете спокойно обсудить проблемы без отвлечений и обвинений."]})]}):n.partner_relationship.status==="borderline"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Практикуйте активное слушание."})," Старайтесь по-настоящему услышать партнера, прежде чем отвечать или защищаться."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Выделяйте время друг для друга."})," Регулярные «свидания» помогают поддерживать близость и связь между партнерами."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ищите компромиссы."})," Работайте вместе над решениями, которые учитывают потребности обоих партнеров."]})]}):e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Продолжайте инвестировать в отношения."})," Даже крепкие отношения требуют внимания и заботы."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Выражайте благодарность."})," Регулярно благодарите партнера за то, что он делает для семьи."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Поддерживайте индивидуальность."})," Уважайте личное пространство и интересы друг друга — это укрепляет отношения."]})]})})]})]})]}),n.coparenting&&e.jsxs("div",{className:"rounded-lg border border-border bg-white p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Совместное воспитание"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:`inline-block rounded-full px-4 py-2 text-sm font-medium ${O(n.coparenting.status)}`,children:h(n.coparenting.status)}),e.jsx("div",{className:"mt-4 h-3 overflow-hidden rounded-full bg-muted/50",children:e.jsx("div",{className:`h-full ${n.coparenting.status==="concerning"?"bg-coral":n.coparenting.status==="borderline"?"bg-yellow-400":"bg-secondary"}`,style:{width:`${p(n.coparenting.score,10)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{open:t["family-coparenting-mean"],onOpenChange:()=>s("family-coparenting-mean"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-accent/10 p-4 text-left hover:bg-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что это значит?"})]}),t["family-coparenting-mean"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:e.jsx("p",{className:"text-foreground",children:n.coparenting.status==="concerning"?e.jsxs(e.Fragment,{children:["Вы указали на ",e.jsx("strong",{children:"значительные трудности в совместном воспитании."})," Это может проявляться в частых разногласиях о воспитании, подрыве авторитета друг друга или конфликтах при детях. Такая ситуация создает стресс для ребенка и затрудняет последовательное воспитание."]}):n.coparenting.status==="borderline"?e.jsxs(e.Fragment,{children:["В совместном воспитании ",e.jsx("strong",{children:"есть некоторые трудности."})," Это пограничный результат — иногда возникают разногласия о правилах или подходах к воспитанию, но в целом вы находите общий язык. Важно обратить внимание на эти аспекты."]}):e.jsxs(e.Fragment,{children:["Вы ",e.jsx("strong",{children:"эффективно работаете вместе"})," в вопросах воспитания. Вы умеете согласовывать правила, поддерживать авторитет друг друга и решать разногласия конструктивно."]})})})]}),e.jsxs(M,{open:t["family-coparenting-do"],onOpenChange:()=>s("family-coparenting-do"),children:[e.jsxs(E,{className:"flex w-full items-center justify-between rounded-lg bg-sky-blue/10 p-4 text-left hover:bg-sky-blue/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-sky-blue"}),e.jsx("span",{className:"font-medium text-foreground",children:"Что я могу сделать?"})]}),t["family-coparenting-do"]?e.jsx(F,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})]}),e.jsx(W,{className:"mt-2 rounded-lg bg-white border border-border p-4",children:n.coparenting.status==="concerning"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Обратитесь за помощью."})," Семейная терапия или консультация по совместному воспитанию может помочь найти общий подход. В Waves мы можем помочь."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Не критикуйте партнера при ребенке."})," Разногласия обсуждайте наедине, а перед ребенком поддерживайте единую позицию."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Сфокусируйтесь на интересах ребенка."})," Когда возникают разногласия, спросите себя: что лучше для ребенка?"]})]}):n.coparenting.status==="borderline"?e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Согласуйте базовые правила."})," Договоритесь о ключевых правилах и последствиях, чтобы ребенок получал последовательные сигналы."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Регулярно обсуждайте вопросы воспитания."})," Выделяйте время для разговоров о ребенке, когда вы оба спокойны и без присутствия детей."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Признавайте разные стили."})," У каждого родителя свой стиль — это нормально, если базовые ценности совпадают."]})]}):e.jsxs("ul",{className:"list-inside space-y-3 text-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Продолжайте сотрудничать."})," Регулярно обсуждайте, как развивается ребенок и какие новые вызовы появляются."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Поддерживайте друг друга."})," Хвалите партнера за его вклад в воспитание — это укрепляет команду."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Адаптируйтесь вместе."})," По мере роста ребенка его потребности меняются — будьте готовы пересматривать подходы."]})]})})]})]})]})]})})():e.jsx("div",{className:"rounded-lg border border-border bg-white p-6",children:e.jsx("p",{className:"text-foreground",children:"Семейная оценка завершена, но результаты еще не рассчитаны."})})]})}const U=!1;function Je(){const g=ne(),d=ie(),[o]=ce(),{currentProfileId:t}=he(),{user:s,loading:j}=ue(),[u,i]=b.useState({}),[v,n]=b.useState(!1),$=o.get("assessmentId"),{loading:w,parentProfile:c,partnerProfile:r,childrenCheckups:l,parentAssessment:m,familyAssessment:_}=ke(s,j,$),x=d.profileId||o.get("profileId")||t,L=b.useMemo(()=>x?l.find(y=>y.profile.id===x):l[0],[x,l]),f=b.useCallback(y=>{i(P=>({...P,[y]:!P[y]}))},[]),{data:N}=be(),{data:G}=pe();b.useEffect(()=>{async function y(){const P=await fe();n(P)}y()},[N,G]);const Q=b.useMemo(()=>l.length>0,[l])&&v&&!N,k={background:"var(--bg-mesh-vibrant-2)",backgroundAttachment:"fixed"};if(w)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",style:k,children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Загрузка результатов..."})})});if(!L&&l.length===0)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",style:k,children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Результаты не найдены"}),e.jsx(B,{onClick:()=>g("/cabinet"),className:"mt-4",children:"Вернуться в кабинет"})]})});const C=L||l[0],R=C==null?void 0:C.profile;C==null||C.results;const z=C==null?void 0:C.assessment;R!=null&&R.dob&&le(R.dob);const V=z!=null&&z.completed_at?new Date(z.completed_at).toLocaleDateString("ru-RU",{weekday:"long",day:"numeric",month:"long"}):"Неизвестно";return e.jsxs("div",{className:"min-h-screen bg-background-light",style:k,children:[e.jsx(je,{}),e.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-12",children:[e.jsx("div",{className:"relative mb-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-5xl font-bold text-foreground mb-4",children:"Ваши результаты"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx(se,{variant:"secondary",className:"bg-white text-muted-foreground border border-border/50 px-4 py-2 rounded-full font-light hover:bg-white text-sm",children:V}),R&&e.jsxs(se,{variant:"secondary",className:"bg-white text-muted-foreground border border-border/50 px-4 py-2 rounded-full font-light hover:bg-white text-sm",children:[R.first_name," ",R.last_name||""]})]}),Q&&e.jsxs(B,{size:"lg",onClick:()=>g("/appointments"),className:"w-full max-w-lg mx-auto bg-secondary hover:bg-secondary/90 text-white shadow-lg hover:shadow-xl transition-all duration-200 text-base font-semibold py-10 min-h-[80px]",children:[e.jsx(we,{className:"mr-4 !h-10 !w-10 flex-shrink-0"}),e.jsxs("span",{className:"text-center leading-tight",children:["Получить первую бесплатную консультацию",e.jsx("br",{}),"с вашим персональным координатором"]})]})]})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("p",{className:"text-center text-muted-foreground mb-8 font-medium",children:"Эти результаты основаны на опроснике, который вы заполнили о своей семье."}),e.jsx(Me,{childrenCheckups:l,parentAssessment:m,familyAssessment:_})]}),l.map(y=>e.jsx(We,{childData:y,openSections:u,toggleSection:f},y.profile.id)),U,e.jsx(Fe,{parentProfile:c,parentAssessment:m,openSections:u,toggleSection:f}),U,U,e.jsx(Re,{parentProfile:c,partnerProfile:r,familyAssessment:_,openSections:u,toggleSection:f}),U,U,e.jsx("div",{className:"mb-8 rounded-lg border border-border bg-white p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"h-6 w-6 text-primary"}),e.jsxs("p",{className:"text-foreground",children:["Этот отчет сохранен в вашей"," ",e.jsx("button",{onClick:()=>g("/checkup-history"),className:"font-medium text-primary underline hover:no-underline",children:"Истории отчетов"})]})]})}),e.jsx("div",{className:"text-center",children:e.jsx(B,{size:"lg",onClick:()=>g("/cabinet"),className:"w-full max-w-md",children:"Вернуться в личный кабинет"})})]})]})}export{Je as default};
