import{a as l}from"./vendor-query-DyYoeD25.js";import{R as n}from"./index-Dt6uKTGi.js";function g(a={}){const{category:s,limit:t,excludeSlug:r,enabled:u=!0}=a;return l({queryKey:["blog-posts",{category:s,limit:t,excludeSlug:r}],enabled:u,staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0,queryFn:async()=>{let e=n.from("blog_posts").select("*").eq("status","published").lte("published_at",new Date().toISOString()).order("published_at",{ascending:!1});s&&(e=e.eq("category_slug",s)),r&&(e=e.neq("slug",r)),t&&t>0&&(e=e.limit(t));const{data:i,error:o}=await e;if(o)throw o;return i||[]}})}export{g as u};
