import{r as n,j as a}from"./vendor-radix-htwXsPHy.js";import{j as O,b as v,c as m,d as j,e as M,f as b}from"./index-Dv2C02zj.js";import{p as N,i as w,g as I}from"./vendor-date-CR4liJ_d.js";const P=[{value:"01",label:"Январь"},{value:"02",label:"Февраль"},{value:"03",label:"Март"},{value:"04",label:"Апрель"},{value:"05",label:"Май"},{value:"06",label:"Июнь"},{value:"07",label:"Июль"},{value:"08",label:"Август"},{value:"09",label:"Сентябрь"},{value:"10",label:"Октябрь"},{value:"11",label:"Ноябрь"},{value:"12",label:"Декабрь"}];function G({value:i,onChange:p,disabled:x=!1,className:C,id:V,required:E,fromYear:F,toYear:T}){const D=new Date().getFullYear(),y=F??D-100,Y=T??D,t=n.useMemo(()=>{if(!i)return null;const e=N(i,"yyyy-MM-dd",new Date);return w(e)?e:null},[i]),[c,u]=n.useState(t?String(t.getDate()).padStart(2,"0"):void 0),[r,S]=n.useState(t?String(t.getMonth()+1).padStart(2,"0"):void 0),[o,g]=n.useState(t?String(t.getFullYear()):void 0);n.useEffect(()=>{t?(u(String(t.getDate()).padStart(2,"0")),S(String(t.getMonth()+1).padStart(2,"0")),g(String(t.getFullYear()))):i||(u(void 0),S(void 0),g(void 0))},[i,t]);const $=n.useMemo(()=>{const e=[];for(let s=Y;s>=y;s--)e.push(String(s));return e},[y,Y]),d=n.useMemo(()=>{let e=31;if(r&&o){const l=parseInt(o,10),h=parseInt(r,10)-1;e=I(new Date(l,h))}else if(r){const l=parseInt(r,10)-1;e=I(new Date(2023,l))}const s=[];for(let l=1;l<=e;l++)s.push(String(l).padStart(2,"0"));return s},[r,o]);n.useEffect(()=>{c&&parseInt(c,10)>d.length&&u(String(d.length).padStart(2,"0"))},[d,c]);const f=n.useCallback((e,s,l)=>{if(e&&s&&l&&p){const h=`${l}-${s}-${e}`,H=N(h,"yyyy-MM-dd",new Date);w(H)&&p(h)}},[p]),k=e=>{u(e),f(e,r,o)},B=e=>{S(e),f(c,e,o)},q=e=>{g(e),f(c,r,e)};return a.jsxs("div",{id:V,className:O("flex gap-2",C),"aria-required":E,children:[a.jsxs(v,{value:c,onValueChange:k,disabled:x,children:[a.jsx(m,{className:"w-[80px] h-12",children:a.jsx(j,{placeholder:"День"})}),a.jsx(M,{className:"max-h-[200px]",children:d.map(e=>a.jsx(b,{value:e,children:e},e))})]}),a.jsxs(v,{value:r,onValueChange:B,disabled:x,children:[a.jsx(m,{className:"flex-1 h-12",children:a.jsx(j,{placeholder:"Месяц"})}),a.jsx(M,{className:"max-h-[200px]",children:P.map(e=>a.jsx(b,{value:e.value,children:e.label},e.value))})]}),a.jsxs(v,{value:o,onValueChange:q,disabled:x,children:[a.jsx(m,{className:"w-[100px] h-12",children:a.jsx(j,{placeholder:"Год"})}),a.jsx(M,{className:"max-h-[200px]",children:$.map(e=>a.jsx(b,{value:e,children:e},e))})]})]})}export{G as B};
