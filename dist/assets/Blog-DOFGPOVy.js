import{r as C,j as e}from"./vendor-radix-htwXsPHy.js";import{e as B,u as S,L as j}from"./vendor-react-CI8wve7f.js";import{az as A,aA as M}from"./index-Dv2C02zj.js";import{u as b}from"./useBlogPosts-CxqGfiQf.js";import{u as T,f as $,a as z}from"./Blog-DfS0tHgJ.js";import"./vendor-charts-DjioKZbK.js";import"./vendor-query-BNGVDYIL.js";function I(){const{categorySlug:v}=B(),d=S(),r=v||void 0,[n,f]=C.useState(""),x=s=>{d(s?`/blog/category/${s}`:"/blog")},{data:i}=T(),{data:a,isLoading:N}=b({}),{data:w,isLoading:k,isError:m}=b({category:r,enabled:!!r}),h=N||r&&k,t=(a==null?void 0:a.find(s=>s.is_featured))||(a==null?void 0:a[0]),o=(s=>{if(!n.trim()||!s)return s;const l=n.toLowerCase().trim();return s.filter(c=>{var u,p;const y=(u=c.title)==null?void 0:u.toLowerCase().includes(l),_=(p=c.subtitle)==null?void 0:p.toLowerCase().includes(l),L=(c.content_html?c.content_html.replace(/<[^>]*>/g,"").toLowerCase():"").includes(l);return y||_||L})})(r?w:a),g=(o==null?void 0:o.filter(s=>s.id!==(t==null?void 0:t.id)))??[];return e.jsxs("div",{className:"blog-root flex min-h-screen flex-col",children:[e.jsx(A,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("section",{className:"blog-hero-band pt-10 md:pt-14 pb-0",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"blog-hero-card grid gap-8 md:grid-cols-[minmax(0,1.7fr)_minmax(0,1.3fr)] items-center",children:[e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"blog-hero-pill text-xs font-medium text-[hsl(var(--color-ink))]/70",children:[e.jsx("span",{children:"Ð–ÑƒÑ€Ð½Ð°Ð» Waves"}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-white/70"}),e.jsx("span",{children:"Ð´Ð»Ñ Ñ‚ÐµÑ…, ÐºÑ‚Ð¾ Ñ‚Ð°Ñ‰Ð¸Ñ‚ Ð½Ð° ÑÐµÐ±Ðµ Ð²ÑÑ‘"})]}),e.jsxs("h1",{className:"font-display text-3xl font-bold leading-tight text-[hsl(var(--color-ink))] md:text-4xl lg:text-5xl",children:["ÐšÐ°Ðº Ð¶Ð¸Ñ‚ÑŒ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¸ Ñ€Ð°ÑÑ‚Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚ÐµÐ¹,",e.jsx("br",{className:"hidden md:block"})," Ð½Ðµ ÑƒÑ…Ð¾Ð´Ñ Ð² ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ñ‹Ð³Ð¾Ñ€Ð°Ð½Ð¸Ðµ"]}),e.jsx("p",{className:"max-w-xl text-sm text-[hsl(var(--color-ink))]/80 md:text-base",children:"Ð”Ð»Ð¸Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÐºÑÑ‚Ñ‹, Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¾Ð² Ð¸ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ‡ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÐµÐ¹ â€” Ð¾ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ðµ, Ð¾Ñ‚Ð´Ñ‹Ñ…Ðµ, Ð³Ñ€Ð°Ð½Ð¸Ñ†Ð°Ñ… Ð¸ Ñ‚Ð¾Ð¼, ÐºÐ°Ðº Ð½Ðµ Ð¿Ð¾Ñ‚ÐµÑ€ÑÑ‚ÑŒ ÑÐµÐ±Ñ Ð² Ð·Ð°Ð±Ð¾Ñ‚Ðµ Ð¾ ÑÐµÐ¼ÑŒÐµ."}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 text-xs font-medium text-[hsl(var(--color-ink))]",children:[e.jsxs("button",{type:"button",onClick:()=>x(void 0),className:`blog-top-tag ${r?"blog-top-tag--inactive":"blog-top-tag--active"}`,children:[e.jsx("span",{children:"ðŸ“š"}),e.jsx("span",{children:"Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸"})]}),(i||[]).map(s=>{const l=r===s.slug;return e.jsxs("button",{type:"button",onClick:()=>x(s.slug),className:`blog-top-tag ${l?"blog-top-tag--active":"blog-top-tag--inactive"}`,children:[s.emoji&&e.jsx("span",{children:s.emoji}),e.jsx("span",{children:s.label})]},s.slug)})]})]}),t&&(()=>{const s=i==null?void 0:i.find(l=>l.slug===t.category_slug);return e.jsxs(j,{to:`/blog/${t.slug}`,className:"relative z-10 flex h-full rounded-3xl overflow-hidden bg-[hsl(var(--color-white))] text-left flex-col shadow-soft",children:[t.cover_image_url?e.jsx("div",{className:"flex-1 min-h-[200px] max-h-[300px] overflow-hidden",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"flex-1 min-h-[200px] max-h-[300px] flex items-center justify-center bg-gradient-to-br from-[hsl(var(--color-cloud))] to-[hsl(var(--border))]",children:e.jsx("span",{className:"text-6xl opacity-30",children:(s==null?void 0:s.emoji)||"ðŸ“„"})}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("p",{className:"mb-2 text-[0.7rem] font-semibold uppercase tracking-[0.18em] text-[hsl(var(--color-ink))]/70",children:"Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð» ÑÐµÐ¹Ñ‡Ð°Ñ"}),e.jsx("h2",{className:"mb-2 line-clamp-3 font-display text-lg font-semibold text-[hsl(var(--color-ink))] md:text-xl",children:t.title}),t.subtitle&&e.jsx("p",{className:"mb-3 line-clamp-3 text-xs text-[hsl(var(--color-ink))]/80",children:t.subtitle}),e.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-2 text-[0.7rem] text-[hsl(var(--color-ink))]/80",children:[s&&e.jsx("span",{className:"rounded-full bg-[hsl(var(--color-ink))]/8 px-2 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide",children:s.label}),e.jsx("span",{children:$(t.published_at)}),t.reading_time_minutes&&e.jsxs("span",{children:["â€¢ ",z(t.reading_time_minutes)]})]})]})]})})()]})})})}),e.jsx("section",{className:"pt-6 pb-4",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"blog-search-container",children:[e.jsxs("div",{className:"blog-search-input-wrapper",children:[e.jsx("svg",{className:"blog-search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("input",{type:"text",placeholder:"Ð¿Ð¾Ð¸ÑÐº",value:n,onChange:s=>f(s.target.value),onKeyDown:s=>{s.key==="Enter"&&s.preventDefault()},className:"blog-search-input"})]}),e.jsx("button",{type:"button",onClick:()=>{},className:"blog-search-button",children:"Ð½Ð°Ð¹Ñ‚Ð¸"})]})})})}),e.jsx("section",{className:"pt-0 pb-8 md:pb-10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[h&&e.jsx("p",{className:"text-sm text-white/60",children:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ ÑÑ‚Ð°Ñ‚ÑŒÐ¸â€¦"}),m&&e.jsx("p",{className:"text-sm text-red-300",children:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑŒÐ¸. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ."}),!h&&!m&&a&&a.length===0&&e.jsx("p",{className:"text-sm text-white/70",children:"ÐŸÐ¾ÐºÐ° Ð·Ð´ÐµÑÑŒ Ð½ÐµÑ‚ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð². Ð¡ÐºÐ¾Ñ€Ð¾ Ð¼Ñ‹ Ð¸Ñ… Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼."}),(t||g.length>0)&&e.jsx("div",{className:"blog-grid mt-4 lg:mt-6",children:g.map(s=>{const l=i==null?void 0:i.find(c=>c.slug===s.category_slug);return e.jsxs(j,{to:`/blog/${s.slug}`,className:"blog-card-new group",children:[e.jsx("div",{className:"blog-card-cover",children:s.cover_image_url?e.jsx("img",{src:s.cover_image_url,alt:s.title,className:"blog-card-cover-image"}):e.jsx("div",{className:"blog-card-cover-placeholder",children:e.jsx("span",{className:"text-4xl opacity-30",children:(l==null?void 0:l.emoji)||"ðŸ“„"})})}),e.jsxs("div",{className:"blog-card-content",children:[e.jsx("h3",{className:"blog-card-title",children:s.title}),s.subtitle&&e.jsx("p",{className:"blog-card-subtitle",children:s.subtitle}),(l==null?void 0:l.emoji)&&e.jsx("div",{className:"blog-card-rubric-icon",children:l.emoji})]})]},s.id)})})]})})})]}),e.jsx(M,{})]})}export{I as default};
